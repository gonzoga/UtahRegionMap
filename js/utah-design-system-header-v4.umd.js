(function(O,y){typeof exports=="object"&&typeof module<"u"?y(exports):typeof define=="function"&&define.amd?define(["exports"],y):(O=typeof globalThis<"u"?globalThis:O||self,y(O["@utahdts/utah-design-system-header"]={}))})(this,(function(O){"use strict";const y={FLYOUT:"flyout",INLINE:"inline",MEGA_MENU:"mega-menu",PLAIN:"plain"},ie={BOTTOM:"bottom",BOTTOM_START:"bottom-start",BOTTOM_END:"bottom-end",LEFT:"left",LEFT_START:"left-start",LEFT_END:"left-end",RIGHT:"right",RIGHT_START:"right-start",RIGHT_END:"right-end",TOP:"top",TOP_START:"top-start",TOP_END:"top-end"},Be={HEADER_LOADED:"utahHeaderLoaded",HEADER_UNLOADED:"utahHeaderUnloaded"},re={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE"},tn=`/* @media is never in scope for --variables, so this is the only way to solve this. :-( */

@media screen and (max-width: media-size__tablet-landscape__PLACEHOLDER) {
  /* put your media query here for tablet landscape */
  .utah-design-system .search-modal__input[type=text] {
    width: 75vw;
  }
}

@media screen and (max-width: media-size__tablet-portrait__PLACEHOLDER) {
  .utds-header-desktop--hidden {
    display: flex !important;
  }
  .utds-header-mobile--hidden {
    display: none !important;
  }
  .utds-header {
    height: 60px;
    padding: var(--spacing-xs) var(--spacing);
  }
  .utds-title-wrapper {
    font-size: var(--font-size-xl);
  }
  .utds-citizen-experience-wrapper {
    display: none;
  }
  .utds-citizen-experience-wrapper--mobile {
    display: flex;
  }
  .utah-design-system .main-menu__wrapper {
    padding: 0 var(--spacing);
    /* The utah id button is this tall, but without it, the menu doesn't fill the space up to the mobile menu content popup */
    min-height: 46px;
  }
  .utah-design-system .main-menu__nav {
    display: none;
  }
  .utah-design-system.utds-header-mobile-menu,
  .utah-design-system .utds-header-mobile__utah-id-wrapper {
    display: block;
  }
  .utah-design-system .icon-button.main-menu__hamburger,
  .utah-design-system .utds-header-mobile__vip-action-items--left,
  .utah-design-system .utds-header-mobile__vip-action-items--right,
  .utah-design-system .main-menu__search-placeholder {
    display: flex;
  }

  .utah-design-system .search-modal__input[type=text] {
    width: 80vw;
    padding: var(--spacing) var(--spacing) var(--spacing) var(--spacing-3xl);
  }
  .utah-design-system .search-modal__button-wrapper {
    right: unset;
    left: 50%;
    transform: translateX(-50%) translateY(110%);
  }
  .utah-design-system .search-modal__button.button--solid.button--primary-color {
    border-color: white;
    width: max-content;
  }

  .utah-design-system .utds-official-website-popup__content {
    flex-wrap: wrap;
    gap: var(--spacing-l);
  }
  .utah-design-system .utds-official-website-popup__col {
    width: 100%;
  }
  .utah-design-system .utds-official-website-popup__address-bar {
    width: auto;
    background-size: contain;
    background-repeat: no-repeat;
  }

  .color-example {
    flex-direction: column;
  }
  .color-example > div:not(:last-child) {
    margin-bottom: var(--spacing-l);
  }

  .search-page {
    .search-modal__form {
      margin-bottom: var(--spacing-4xl);
    }
    .search-modal__input[type=text] {
      padding: var(--spacing) var(--spacing) var(--spacing) var(--spacing-3xl);
    }
  }
}

@media screen and (max-width: media-size__mobile__PLACEHOLDER) {
  /* put your media query here for mobile */
}
`;function f(e){return`.${(Array.isArray(e)?e:[e]).join(".")}`}const s={UTAH_DESIGN_SYSTEM:"utah-design-system",HEADER:"utds-header",FOOTER:"utds-footer",ICON_BUTTON:"icon-button",CSS_HEADER_MEDIA_TAG_ID:"cssHeaderMediaTag",IS_CLOSED:"is-closed",IS_OPEN:"is-open",VISUALLY_HIDDEN:"visually-hidden",MEDIA_SIZE__MOBILE__PLACEHOLDER:"media-size__mobile__PLACEHOLDER",MEDIA_SIZE__TABLET_LANDSCAPE__PLACEHOLDER:"media-size__tablet-landscape__PLACEHOLDER",MEDIA_SIZE__TABLET_PORTRAIT__PLACEHOLDER:"media-size__tablet-portrait__PLACEHOLDER",ACTION_ITEM:"utds-header-action-item",ACTION_ITEM__ICON_BUTTON:"utds-header-action-item__icon-button",ACTION_ITEM__ICON_BUTTON_TITLE:"utds-header-action-item__icon-button--has-title",ACTION_ITEM__TITLE:"utds-header-action-item__title",BADGE__LABEL:"utds-badge__label",BADGE__VALUE:"utds-badge__value",BADGE_WRAPPER__SMALL:"utds-badge__wrapper--small",BADGE_WRAPPER__ACTION_ITEM:"utds-badge__wrapper--action-item",CITIZEN_EXPERIENCE:"utds-citizen-experience-wrapper",CITIZEN_EXPERIENCE_MOBILE:"utds-citizen-experience-wrapper--mobile",FOOTER_COPYRIGHT_YEAR:"utds-footer__copyright-year",FOOTER_HORIZONTAL_DIVIDER:"utds-footer__horizontal-divider",FOOTER_LINK_PRIVACY_ID:"utds-footer-privacy-link",FOOTER_LINK_TERMS_ID:"utds-footer-terms-link",FOOTER_LINKS:"utds-footer__links",LOGO:"utds-logo-wrapper",LOGO_OFFICIAL_CLOSE_BUTTON:"utds-official-website-popup__close-button",LOGO_OFFICIAL_WRAPPER:"utds-official-website-popup__wrapper",LOGO_SVG:"utah-logo-svg",MAIN_MENU:"main-menu__wrapper",MAIN_MENU__HAMBURGER_ID:"utds-main-menu__hamburger",MAIN_MENU__HAMBURGER_ICON_ID:"utds-main-menu__hamburger-icon",MAIN_MENU__MENU_TOP:"main-menu__menu-top",MAIN_MENU__NAV:"main-menu__nav",MAIN_MENU__OUTER:"main-menu__outer",MAIN_MENU__REMOVED:"main-menu-is-removed",MAIN_MENU__SEARCH:"main-menu__search",MENU_ITEM__ARROW:"menu-item__menu-arrow",MENU_ITEM__BUTTON_TITLE:"menu-item__button-title",MENU_ITEM__LINK_TITLE:"menu-item__link-title",MENU_ITEM__LINK_TITLE_SPAN:"menu-item__link-title-span",MENU_ITEM__SELECTED:"menu-item--selected",MENU_ITEM__SELECTED_PARENT:"menu-item--selected_parent",MENU_ITEM__TITLE:"menu-item__title",MENU_ITEM__FLY_OUT:"menu-item--fly_out",MENU_ITEM__INLINE:"menu-item--inline",MENU_ITEM__MEGA_MENU:"menu-item--mega-menu",DESKTOP__HIDDEN:"utds-header-desktop--hidden",MOBILE__HIDDEN:"utds-header-mobile--hidden",MOBILE__UTAH_ID:"utds-header-mobile__utah-id-wrapper",ACTION_ITEM__SELECTED:"utds-header-mobile-menu__action-item--selected",MOBILE_MENU:"utds-header-mobile-menu",MOBILE_MENU__ACTION_BAR:"utds-header-mobile-menu__action-bar",MOBILE_MENU__BACKDROP:"utds-header-mobile-menu__backdrop",MOBILE_MENU__CONTENT:"utds-header-mobile-menu__content",MOBILE_MENU__CONTENT_ITEM:"utds-header-mobile-menu__content-item",MOBILE_MENU__LAST_FOCUSABLE:"utds-header-mobile-menu__hidden-last-focusable",MOBILE_MENU__WRAPPER:"utds-header-mobile-menu__wrapper",MOBILE_MENU_ACTON_BAR__HOME_ID:"utds-header-mobile-menu_action-bar__home",MOBILE_MENU_ACTON_BAR__PROFILE_ID:"utds-header-mobile-menu_action-bar__profile",MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER:"utds-header-mobile-menu__action-item",VERTICAL_MENU__BUTTON_TITLE:"vertical-menu__button-title",VERTICAL_MENU__CHEVRON:"vertical-menu__chevron",VERTICAL_MENU__DIVIDER:"vertical-menu__divider",VERTICAL_MENU__LINK_TEXT:"vertical-menu__link-text",VERTICAL_MENU__LINK_TITLE:"vertical-menu__link-title",VERTICAL_MENU__PLAIN_TITLE:"vertical-menu__plain-title",VERTICAL_MENU__TITLE:"vertical-menu__title",VERTICAL_MENU_WRAPPER__WRAPPER_TITLE:"vertical-menu__wrapper-title",POPUP__HIDDEN:"popup__wrapper--hidden",POPUP__VISIBLE:"popup__wrapper--visible",POPUP_ARROW:"popup__arrow",POPUP_CONTENT_WRAPPER:"popup__content",POPUP_WRAPPER:"popup__wrapper",SEARCH__SEARCH_BACKDROP:"search-backdrop",SEARCH__SEARCH_CLOSE_BUTTON:"search-modal__close-button",SEARCH__SEARCH_BUTTON:"search-modal__button",SEARCH__SEARCH_BUTTON_WRAPPER:"search-modal__button-wrapper",SEARCH__SEARCH_INPUT:"search-modal__input",SEARCH__SEARCH_MODAL:"search-modal",SKIP_LINK_LINK:"skip-link__link",SKIP_LINK_WRAPPER:"skip-link__wrapper",TITLE__LOGO:"utds-title-wrapper__logo",TITLE__TITLE:"utds-title-wrapper__title",TOOLTIP__ARROW:"tooltip__arrow",TOOLTIP__CONTENT:"tooltip__content",TOOLTIP__WRAPPER:"tooltip__wrapper",TOOLTIP__WRAPPER__HIDDEN:"tooltip__wrapper--hidden",TOOLTIP__WRAPPER__VISIBLE:"tooltip__wrapper--visible",UTAH_ID:"utds-utah-id-wrapper",UTAH_ID__BUTTON:"utds-utah-id__button"};function D(e,t){if(e)throw new Error(t)}function b(e,t){if(e==null)throw new Error(t);return e}function ct(e){return typeof e=="string"||e instanceof String}function nn(e){const t=new DOMParser;let n;if(ct(e)){const o=ct(e)?t.parseFromString(e,"text/html"):e,i=o.body.children.length>1?o.body.children:o.body.children.item(0);if(!i)throw console.error(e),new Error("renderDOM: nothing rendered");n=i}else if(e instanceof Element)n=e;else throw e?(console.error(e),new Error(`renderDOM: str is not a string nor a DOM Element : '${e}'`)):new Error("renderDOM: falsy string passed; cannot render nothing");return n}function g(e){const t=typeof e=="string"?nn(e):e;if(t instanceof HTMLCollection&&t.length>1)throw new Error("renderDOMSingle: must render a single element");const n=t instanceof HTMLCollection?t[0]:t;if(!n)throw console.error(e),new Error("renderDOMSingle: nothing rendered");return n}const fe={applicationType:"",onSearch:!1,mainMenu:!1,mediaSizes:{mobile:640,tabletPortrait:768,tabletLandscape:1024},showTitle:!0,size:re.MEDIUM,skipLinkUrl:"#main-content",title:"My Utah.gov Site",titleUrl:"/",utahId:!1};function on(e){if(!e.showTitle&&!e.logo)throw new Error("validateSettings: A title must be shown if there is no logo. Please change the `showTitle` setting to be `true` or provide a logo image.")}class rn{constructor(){this.settings={...fe}}setSettings(t){const n={...fe,...this.settings,...t};on(n),this.settings=n}getSettings(){return this.settings}clearSettings(){this.settings={...fe}}}const Oe=new rn;function M(){return Oe.getSettings()}function w(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,e=>(e^b(crypto.getRandomValues(new Uint8Array(1))[0],"uuidv4: crypto")&(15>>e)/4).toString(16))}const sn=`<div class="utds-header-mobile-menu__content-item" role="tabpanel">
</div>
`;function ke(e){const t=document.querySelector(f(s.MOBILE_MENU__WRAPPER));if(!t)throw new Error("addMobileMenuContentItem: mobileMenuWrapper not found");const n=t.querySelector(f(s.MOBILE_MENU__CONTENT));if(!n)throw new Error("addMobileMenuContentItem: mobileContentWrapper not found");const o=g(sn);return o.appendChild(e),n.appendChild(o),o.setAttribute("id",w()),o}function F(e){return e instanceof Function?e():e}function pe(e){const t=b(document.querySelector(f(s.MOBILE_MENU)),`${e}: mobileMenu not found`),n=document.getElementById(s.MAIN_MENU__HAMBURGER_ID),o=document.getElementById(s.MAIN_MENU__HAMBURGER_ICON_ID);return{hamburger:n,hamburgerIcon:o,mobileMenu:t}}function _e(){const{hamburger:e,hamburgerIcon:t,mobileMenu:n}=pe("hideMobileMenu");e?.setAttribute("aria-expanded","false"),n.classList.remove(s.IS_OPEN),e?.setAttribute("aria-label","Open the mobile menu"),t?.classList.add("utds-icon-before-hamburger"),t?.classList.remove("utds-icon-before-x-icon"),document.body.style.position=""}function an(){document.querySelector(f(s.MAIN_MENU))?.classList.contains(s.MOBILE__HIDDEN)&&document.querySelector(`${f(s.UTAH_DESIGN_SYSTEM)}${f(s.MOBILE_MENU)}`)?.classList.add(s.MAIN_MENU__REMOVED);const{hamburger:t,hamburgerIcon:n,mobileMenu:o}=pe("showMobileMenu");t?.setAttribute("aria-expanded","true"),o.classList.add(s.IS_OPEN),t?.setAttribute("aria-label","Close the mobile menu"),n?.classList.remove("utds-icon-before-hamburger"),n?.classList.add("utds-icon-before-x-icon"),document.body.style.position="relative"}function We(e,t){e.querySelectorAll(f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER)).forEach(o=>{o.classList.remove(s.ACTION_ITEM__SELECTED);const i=o.querySelector("button");if(!i)throw new Error("showActionItem: actionWrapper does not have actionItem A");i.setAttribute("aria-selected","false"),i.setAttribute("tabIndex","-1")}),t.classList.add(s.ACTION_ITEM__SELECTED);const n=t.querySelector("button");if(!n)throw new Error("showActionItem: actionWrapper does not have actionItem B");n.setAttribute("aria-selected","true"),n.removeAttribute("tabIndex"),n.focus()}function lt(e,t){e.querySelectorAll(f(s.MOBILE_MENU__CONTENT_ITEM)).forEach(n=>n.classList.remove(s.IS_OPEN)),t.classList.add(s.IS_OPEN)}function Fe(e,t,n,{ariaHasPopupType:o,additionalOnClick:i,onClickHandler:a,shouldOnClickCloseMenu:r}){if(t&&!o)throw new Error("mobileMenuInteractionHandler: there is content, but the aria type is not given");const c=document.querySelector(f(s.MOBILE_MENU));if(!c)throw new Error("mobileMenuInteractionHandler: mobileMenu not found");const d=document.querySelector(f(s.MOBILE_MENU__WRAPPER));if(!d)throw new Error("mobileMenuInteractionHandler: mobileMenuWrapper not found");const u=d.querySelector(f(s.MOBILE_MENU__CONTENT));if(!u)throw new Error("mobileMenuInteractionHandler: mobileContentWrapper not found");const _=F(n),p=F(n)?.querySelector?.("button"),m=(p||e).getAttribute("id");if(!m)throw new Error("mobileMenuInteractionHandler: interactiveElementId not found");if(t){const l=F(t);if(l){const h=l.getAttribute("id");if(!h)throw new Error("mobileMenuInteractionHandler: mobileMenuContentId not found");(p||e).setAttribute("aria-controls",h),l.setAttribute("aria-labelledby",m)}}if(e.onclick)throw new Error("mobileMenuInteractionHandler: interactiveElement already has onclick");if(e.onclick=l=>{if(!a?.(l))if(i?.(l),c.classList.contains(s.IS_OPEN))r&&_e();else{an();const E=F(t);E&&lt(u,E),We(d,F(n))}},t){if(_!==e&&_.onclick)throw new Error("mobileMenuInteractionHandler: actionItemWrapperValue already has onclick");_.onclick=l=>{if(!a?.(l)){const h=F(t);h&&lt(u,h),We(d,F(n))}}}}function Ve(e,t,n){let o=!1;return e&&(Array.isArray(e)?o=e.some(i=>Ve(i,t,n)):(o=n(e),o||(o=!!t?.filter(i=>e[i])?.some(i=>Ve(e[i],t,n))))),o}const se=Math.min,Q=Math.max,ye=Math.round,Se=Math.floor,V=e=>({x:e,y:e}),cn={left:"right",right:"left",bottom:"top",top:"bottom"},ln={start:"end",end:"start"};function qe(e,t,n){return Q(e,se(t,n))}function he(e,t){return typeof e=="function"?e(t):e}function J(e){return e.split("-")[0]}function me(e){return e.split("-")[1]}function ut(e){return e==="x"?"y":"x"}function $e(e){return e==="y"?"height":"width"}const un=new Set(["top","bottom"]);function Z(e){return un.has(J(e))?"y":"x"}function Ge(e){return ut(Z(e))}function dn(e,t,n){n===void 0&&(n=!1);const o=me(e),i=Ge(e),a=$e(i);let r=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(r=Ne(r)),[r,Ne(r)]}function fn(e){const t=Ne(e);return[ze(e),t,ze(t)]}function ze(e){return e.replace(/start|end/g,t=>ln[t])}const dt=["left","right"],ft=["right","left"],pn=["top","bottom"],_n=["bottom","top"];function hn(e,t,n){switch(e){case"top":case"bottom":return n?t?ft:dt:t?dt:ft;case"left":case"right":return t?pn:_n;default:return[]}}function mn(e,t,n,o){const i=me(e);let a=hn(J(e),n==="start",o);return i&&(a=a.map(r=>r+"-"+i),t&&(a=a.concat(a.map(ze)))),a}function Ne(e){return e.replace(/left|right|bottom|top/g,t=>cn[t])}function En(e){return{top:0,right:0,bottom:0,left:0,...e}}function pt(e){return typeof e!="number"?En(e):{top:e,right:e,bottom:e,left:e}}function Pe(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function _t(e,t,n){let{reference:o,floating:i}=e;const a=Z(t),r=Ge(t),c=$e(r),d=J(t),u=a==="y",_=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,m=o[c]/2-i[c]/2;let l;switch(d){case"top":l={x:_,y:o.y-i.height};break;case"bottom":l={x:_,y:o.y+o.height};break;case"right":l={x:o.x+o.width,y:p};break;case"left":l={x:o.x-i.width,y:p};break;default:l={x:o.x,y:o.y}}switch(me(t)){case"start":l[r]-=m*(n&&u?-1:1);break;case"end":l[r]+=m*(n&&u?-1:1);break}return l}async function In(e,t){var n;t===void 0&&(t={});const{x:o,y:i,platform:a,rects:r,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:_="viewport",elementContext:p="floating",altBoundary:m=!1,padding:l=0}=he(t,e),h=pt(l),T=c[m?p==="floating"?"reference":"floating":p],I=Pe(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(T)))==null||n?T:T.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:u,rootBoundary:_,strategy:d})),A=p==="floating"?{x:o,y:i,width:r.floating.width,height:r.floating.height}:r.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),L=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Pe(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:A,offsetParent:v,strategy:d}):A);return{top:(I.top-C.top+h.top)/L.y,bottom:(C.bottom-I.bottom+h.bottom)/L.y,left:(I.left-C.left+h.left)/L.x,right:(C.right-I.right+h.right)/L.x}}const gn=async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:a=[],platform:r}=n,c=a.filter(Boolean),d=await(r.isRTL==null?void 0:r.isRTL(t));let u=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:_,y:p}=_t(u,o,d),m=o,l={},h=0;for(let T=0;T<c.length;T++){var E;const{name:I,fn:A}=c[T],{x:v,y:L,data:C,reset:S}=await A({x:_,y:p,initialPlacement:o,placement:m,strategy:i,middlewareData:l,rects:u,platform:{...r,detectOverflow:(E=r.detectOverflow)!=null?E:In},elements:{reference:e,floating:t}});_=v??_,p=L??p,l={...l,[I]:{...l[I],...C}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:_,y:p}=_t(u,m,d)),T=-1)}return{x:_,y:p,placement:m,strategy:i,middlewareData:l}},bn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:a,platform:r,elements:c,middlewareData:d}=t,{element:u,padding:_=0}=he(e,t)||{};if(u==null)return{};const p=pt(_),m={x:n,y:o},l=Ge(i),h=$e(l),E=await r.getDimensions(u),T=l==="y",I=T?"top":"left",A=T?"bottom":"right",v=T?"clientHeight":"clientWidth",L=a.reference[h]+a.reference[l]-m[l]-a.floating[h],C=m[l]-a.reference[l],S=await(r.getOffsetParent==null?void 0:r.getOffsetParent(u));let x=S?S[v]:0;(!x||!await(r.isElement==null?void 0:r.isElement(S)))&&(x=c.floating[v]||a.floating[h]);const Me=L/2-C/2,te=x/2-E[h]/2-1,Y=se(p[I],te),Le=se(p[A],te),ne=Y,we=x-E[h]-Le,P=x/2-E[h]/2+Me,oe=qe(ne,P,we),K=!d.arrow&&me(i)!=null&&P!==oe&&a.reference[h]/2-(P<ne?Y:Le)-E[h]/2<0,k=K?P<ne?P-ne:P-we:0;return{[l]:m[l]+k,data:{[l]:oe,centerOffset:P-oe-k,...K&&{alignmentOffset:k}},reset:K}}}),Tn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:a,rects:r,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:_=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:E=!0,...T}=he(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const I=J(i),A=Z(c),v=J(c)===c,L=await(d.isRTL==null?void 0:d.isRTL(u.floating)),C=m||(v||!E?[Ne(c)]:fn(c)),S=h!=="none";!m&&S&&C.push(...mn(c,E,h,L));const x=[c,...C],Me=await d.detectOverflow(t,T),te=[];let Y=((o=a.flip)==null?void 0:o.overflows)||[];if(_&&te.push(Me[I]),p){const P=dn(i,r,L);te.push(Me[P[0]],Me[P[1]])}if(Y=[...Y,{placement:i,overflows:te}],!te.every(P=>P<=0)){var Le,ne;const P=(((Le=a.flip)==null?void 0:Le.index)||0)+1,oe=x[P];if(oe&&(!(p==="alignment"?A!==Z(oe):!1)||Y.every(W=>Z(W.placement)===A?W.overflows[0]>0:!0)))return{data:{index:P,overflows:Y},reset:{placement:oe}};let K=(ne=Y.filter(k=>k.overflows[0]<=0).sort((k,W)=>k.overflows[1]-W.overflows[1])[0])==null?void 0:ne.placement;if(!K)switch(l){case"bestFit":{var we;const k=(we=Y.filter(W=>{if(S){const j=Z(W.placement);return j===A||j==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(j=>j>0).reduce((j,ui)=>j+ui,0)]).sort((W,j)=>W[1]-j[1])[0])==null?void 0:we[0];k&&(K=k);break}case"initialPlacement":K=c;break}if(i!==K)return{reset:{placement:K}}}return{}}}},An=new Set(["left","top"]);async function vn(e,t){const{placement:n,platform:o,elements:i}=e,a=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=J(n),c=me(n),d=Z(n)==="y",u=An.has(r)?-1:1,_=a&&d?-1:1,p=he(t,e);let{mainAxis:m,crossAxis:l,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof h=="number"&&(l=c==="end"?h*-1:h),d?{x:l*_,y:m*u}:{x:m*u,y:l*_}}const Mn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:a,placement:r,middlewareData:c}=t,d=await vn(t,e);return r===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:r}}}}},Ln=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i,platform:a}=t,{mainAxis:r=!0,crossAxis:c=!1,limiter:d={fn:I=>{let{x:A,y:v}=I;return{x:A,y:v}}},...u}=he(e,t),_={x:n,y:o},p=await a.detectOverflow(t,u),m=Z(J(i)),l=ut(m);let h=_[l],E=_[m];if(r){const I=l==="y"?"top":"left",A=l==="y"?"bottom":"right",v=h+p[I],L=h-p[A];h=qe(v,h,L)}if(c){const I=m==="y"?"top":"left",A=m==="y"?"bottom":"right",v=E+p[I],L=E-p[A];E=qe(v,E,L)}const T=d.fn({...t,[l]:h,[m]:E});return{...T,data:{x:T.x-n,y:T.y-o,enabled:{[l]:r,[m]:c}}}}}};function Ce(){return typeof window<"u"}function ae(e){return ht(e)?(e.nodeName||"").toLowerCase():"#document"}function R(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function q(e){var t;return(t=(ht(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ht(e){return Ce()?e instanceof Node||e instanceof R(e).Node:!1}function H(e){return Ce()?e instanceof Element||e instanceof R(e).Element:!1}function $(e){return Ce()?e instanceof HTMLElement||e instanceof R(e).HTMLElement:!1}function mt(e){return!Ce()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof R(e).ShadowRoot}const wn=new Set(["inline","contents"]);function Ee(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=B(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!wn.has(i)}const On=new Set(["table","td","th"]);function yn(e){return On.has(ae(e))}const Sn=[":popover-open",":modal"];function Re(e){return Sn.some(t=>{try{return e.matches(t)}catch{return!1}})}const Nn=["transform","translate","scale","rotate","perspective"],Pn=["transform","translate","scale","rotate","perspective","filter"],Cn=["paint","layout","strict","content"];function Ye(e){const t=Ke(),n=H(e)?B(e):e;return Nn.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Pn.some(o=>(n.willChange||"").includes(o))||Cn.some(o=>(n.contain||"").includes(o))}function Rn(e){let t=X(e);for(;$(t)&&!ce(t);){if(Ye(t))return t;if(Re(t))return null;t=X(t)}return null}function Ke(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Un=new Set(["html","body","#document"]);function ce(e){return Un.has(ae(e))}function B(e){return R(e).getComputedStyle(e)}function Ue(e){return H(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function X(e){if(ae(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mt(e)&&e.host||q(e);return mt(t)?t.host:t}function Et(e){const t=X(e);return ce(t)?e.ownerDocument?e.ownerDocument.body:e.body:$(t)&&Ee(t)?t:Et(t)}function Ie(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Et(e),a=i===((o=e.ownerDocument)==null?void 0:o.body),r=R(i);if(a){const c=Ze(r);return t.concat(r,r.visualViewport||[],Ee(i)?i:[],c&&n?Ie(c):[])}return t.concat(i,Ie(i,[],n))}function Ze(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function It(e){const t=B(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=$(e),a=i?e.offsetWidth:n,r=i?e.offsetHeight:o,c=ye(n)!==a||ye(o)!==r;return c&&(n=a,o=r),{width:n,height:o,$:c}}function Xe(e){return H(e)?e:e.contextElement}function le(e){const t=Xe(e);if(!$(t))return V(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:a}=It(t);let r=(a?ye(n.width):n.width)/o,c=(a?ye(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const Dn=V(0);function gt(e){const t=R(e);return!Ke()||!t.visualViewport?Dn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==R(e)?!1:t}function ee(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Xe(e);let r=V(1);t&&(o?H(o)&&(r=le(o)):r=le(e));const c=xn(a,n,o)?gt(a):V(0);let d=(i.left+c.x)/r.x,u=(i.top+c.y)/r.y,_=i.width/r.x,p=i.height/r.y;if(a){const m=R(a),l=o&&H(o)?R(o):o;let h=m,E=Ze(h);for(;E&&o&&l!==h;){const T=le(E),I=E.getBoundingClientRect(),A=B(E),v=I.left+(E.clientLeft+parseFloat(A.paddingLeft))*T.x,L=I.top+(E.clientTop+parseFloat(A.paddingTop))*T.y;d*=T.x,u*=T.y,_*=T.x,p*=T.y,d+=v,u+=L,h=R(E),E=Ze(h)}}return Pe({width:_,height:p,x:d,y:u})}function De(e,t){const n=Ue(e).scrollLeft;return t?t.left+n:ee(q(e)).left+n}function bt(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-De(e,n),i=n.top+t.scrollTop;return{x:o,y:i}}function Hn(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const a=i==="fixed",r=q(o),c=t?Re(t.floating):!1;if(o===r||c&&a)return n;let d={scrollLeft:0,scrollTop:0},u=V(1);const _=V(0),p=$(o);if((p||!p&&!a)&&((ae(o)!=="body"||Ee(r))&&(d=Ue(o)),$(o))){const l=ee(o);u=le(o),_.x=l.x+o.clientLeft,_.y=l.y+o.clientTop}const m=r&&!p&&!a?bt(r,d):V(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+_.x+m.x,y:n.y*u.y-d.scrollTop*u.y+_.y+m.y}}function Bn(e){return Array.from(e.getClientRects())}function kn(e){const t=q(e),n=Ue(e),o=e.ownerDocument.body,i=Q(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=Q(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+De(e);const c=-n.scrollTop;return B(o).direction==="rtl"&&(r+=Q(t.clientWidth,o.clientWidth)-i),{width:i,height:a,x:r,y:c}}const Tt=25;function Wn(e,t){const n=R(e),o=q(e),i=n.visualViewport;let a=o.clientWidth,r=o.clientHeight,c=0,d=0;if(i){a=i.width,r=i.height;const _=Ke();(!_||_&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const u=De(o);if(u<=0){const _=o.ownerDocument,p=_.body,m=getComputedStyle(p),l=_.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,h=Math.abs(o.clientWidth-p.clientWidth-l);h<=Tt&&(a-=h)}else u<=Tt&&(a+=u);return{width:a,height:r,x:c,y:d}}const Fn=new Set(["absolute","fixed"]);function Vn(e,t){const n=ee(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,a=$(e)?le(e):V(1),r=e.clientWidth*a.x,c=e.clientHeight*a.y,d=i*a.x,u=o*a.y;return{width:r,height:c,x:d,y:u}}function At(e,t,n){let o;if(t==="viewport")o=Wn(e,n);else if(t==="document")o=kn(q(e));else if(H(t))o=Vn(t,n);else{const i=gt(e);o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Pe(o)}function vt(e,t){const n=X(e);return n===t||!H(n)||ce(n)?!1:B(n).position==="fixed"||vt(n,t)}function qn(e,t){const n=t.get(e);if(n)return n;let o=Ie(e,[],!1).filter(c=>H(c)&&ae(c)!=="body"),i=null;const a=B(e).position==="fixed";let r=a?X(e):e;for(;H(r)&&!ce(r);){const c=B(r),d=Ye(r);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&Fn.has(i.position)||Ee(r)&&!d&&vt(e,r))?o=o.filter(_=>_!==r):i=c,r=X(r)}return t.set(e,o),o}function $n(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const r=[...n==="clippingAncestors"?Re(t)?[]:qn(t,this._c):[].concat(n),o],c=r[0],d=r.reduce((u,_)=>{const p=At(t,_,i);return u.top=Q(p.top,u.top),u.right=se(p.right,u.right),u.bottom=se(p.bottom,u.bottom),u.left=Q(p.left,u.left),u},At(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Gn(e){const{width:t,height:n}=It(e);return{width:t,height:n}}function zn(e,t,n){const o=$(t),i=q(t),a=n==="fixed",r=ee(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=V(0);function u(){d.x=De(i)}if(o||!o&&!a)if((ae(t)!=="body"||Ee(i))&&(c=Ue(t)),o){const l=ee(t,!0,a,t);d.x=l.x+t.clientLeft,d.y=l.y+t.clientTop}else i&&u();a&&!o&&i&&u();const _=i&&!o&&!a?bt(i,c):V(0),p=r.left+c.scrollLeft-d.x-_.x,m=r.top+c.scrollTop-d.y-_.y;return{x:p,y:m,width:r.width,height:r.height}}function je(e){return B(e).position==="static"}function Mt(e,t){if(!$(e)||B(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return q(e)===n&&(n=n.ownerDocument.body),n}function Lt(e,t){const n=R(e);if(Re(e))return n;if(!$(e)){let i=X(e);for(;i&&!ce(i);){if(H(i)&&!je(i))return i;i=X(i)}return n}let o=Mt(e,t);for(;o&&yn(o)&&je(o);)o=Mt(o,t);return o&&ce(o)&&je(o)&&!Ye(o)?n:o||Rn(e)||n}const Yn=async function(e){const t=this.getOffsetParent||Lt,n=this.getDimensions,o=await n(e.floating);return{reference:zn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Kn(e){return B(e).direction==="rtl"}const Zn={convertOffsetParentRelativeRectToViewportRelativeRect:Hn,getDocumentElement:q,getClippingRect:$n,getOffsetParent:Lt,getElementRects:Yn,getClientRects:Bn,getDimensions:Gn,getScale:le,isElement:H,isRTL:Kn};function wt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xn(e,t){let n=null,o;const i=q(e);function a(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function r(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const u=e.getBoundingClientRect(),{left:_,top:p,width:m,height:l}=u;if(c||t(),!m||!l)return;const h=Se(p),E=Se(i.clientWidth-(_+m)),T=Se(i.clientHeight-(p+l)),I=Se(_),v={rootMargin:-h+"px "+-E+"px "+-T+"px "+-I+"px",threshold:Q(0,se(1,d))||1};let L=!0;function C(S){const x=S[0].intersectionRatio;if(x!==d){if(!L)return r();x?r(!1,x):o=setTimeout(()=>{r(!1,1e-7)},1e3)}x===1&&!wt(u,e.getBoundingClientRect())&&r(),L=!1}try{n=new IntersectionObserver(C,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(e)}return r(!0),a}function jn(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,u=Xe(e),_=i||a?[...u?Ie(u):[],...Ie(t)]:[];_.forEach(I=>{i&&I.addEventListener("scroll",n,{passive:!0}),a&&I.addEventListener("resize",n)});const p=u&&c?Xn(u,n):null;let m=-1,l=null;r&&(l=new ResizeObserver(I=>{let[A]=I;A&&A.target===u&&l&&(l.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=l)==null||v.observe(t)})),n()}),u&&!d&&l.observe(u),l.observe(t));let h,E=d?ee(e):null;d&&T();function T(){const I=ee(e);E&&!wt(E,I)&&n(),E=I,h=requestAnimationFrame(T)}return n(),()=>{var I;_.forEach(A=>{i&&A.removeEventListener("scroll",n),a&&A.removeEventListener("resize",n)}),p?.(),(I=l)==null||I.disconnect(),l=null,d&&cancelAnimationFrame(h)}}const Ot=Mn,yt=Ln,St=Tn,Nt=bn,Pt=(e,t,n)=>{const o=new Map,i={platform:Zn,...n},a={...i.platform,_c:o};return gn(e,t,{...i,platform:a})};function Qn(e){return!e.closest(".menu-item__title")&&!e.closest(".vertical-menu__title")}function Qe(e,t,n,o){t?(e.classList.remove(o),e.classList.add(n)):(e.classList.add(o),e.classList.remove(n))}let U;const ge={},Je={SHIFT:"shift-key"};function Ct(){U&&(document.removeEventListener("click",U.globalOnClick),document.removeEventListener("keyup",U.globalOnKeyup),document.removeEventListener("keydown",U.globalOnKeydown),U=null)}function et(){const e=[`${f(s.UTAH_DESIGN_SYSTEM)} ${f(s.HEADER)} ${f(s.POPUP_WRAPPER)}`,`${f(s.UTAH_DESIGN_SYSTEM)} ${f(s.MAIN_MENU)} ${f(s.POPUP_WRAPPER)}`],t=document.querySelectorAll(e.join(","));Array.from(t).filter(n=>!n.classList.contains(s.POPUP__HIDDEN)).forEach(n=>{const o=n.getAttribute("id");if(o){const i=document.querySelector(`[aria-controls="${o}"]`);i&&Qn(i)&&i.setAttribute("aria-expanded","false")}Qe(n,!1,s.POPUP__VISIBLE,s.POPUP__HIDDEN)})}function Jn(){U&&Ct(),U={globalOnClick:()=>{},globalOnKeyup:()=>{},globalOnKeydown:()=>{}},U.globalOnClick=et,document.addEventListener("click",U.globalOnClick),U.globalOnKeyup=(e=>{e.key==="Escape"&&et(),e.shiftKey||(ge[Je.SHIFT]=!1),ge[e.key]=!1}),document.addEventListener("keyup",U.globalOnKeyup),U.globalOnKeydown=e=>{e.shiftKey&&(ge[Je.SHIFT]=!0),ge[e.key]=!0},document.addEventListener("keydown",U.globalOnKeydown)}function eo(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function ue(e,t,n,o,i){let a=NaN,r=NaN;const c=350,d=150,u=50;o&&t.setAttribute("aria-expanded","false"),t.setAttribute("aria-haspopup",o),n.setAttribute("inert","true");function _(h){clearTimeout(a),clearTimeout(r),(!i?.isPerformPopup||i?.isPerformPopup())&&(a=window.setTimeout(()=>{const E=n.querySelector(f(s.POPUP_ARROW)),T=[Ot(11),St(),yt()];E&&T.push(Nt({element:E})),Pt(t,n,{placement:i?.popupPlacement||ie.BOTTOM,middleware:T}).then(({x:I,y:A,middlewareData:v})=>{n.setAttribute("data-popup-placement",i?.popupPlacement||ie.BOTTOM),Object.assign(n.style,{left:`${I}px`,top:`${A}px`}),E&&Object.assign(E.style,{left:I!=null?`${v?.arrow?.x}px`:"",top:A!=null?`${v?.arrow?.y}px`:""})}),Qe(n,!0,s.POPUP__VISIBLE,s.POPUP__HIDDEN),n.removeAttribute("inert"),i?.shouldFocusOnTab||(e.addEventListener("focusin",m),e.addEventListener("focusout",l)),o&&t.setAttribute("aria-expanded","true"),document.querySelectorAll(f(s.TOOLTIP__WRAPPER)).forEach(I=>I.classList.add(s.TOOLTIP__WRAPPER__HIDDEN))},h))}function p(h){clearTimeout(a),clearTimeout(r),(!i?.isPerformPopup||i.isPerformPopup())&&(r=window.setTimeout(()=>{Qe(n,!1,s.POPUP__VISIBLE,s.POPUP__HIDDEN),n.setAttribute("inert","true"),i?.shouldFocusOnTab||(e.removeEventListener("focusin",m),e.removeEventListener("focusout",l)),o&&t.setAttribute("aria-expanded","false")},h))}if(i?.preventOnClickHandling&&(D(!!e.onclick,"popupFocusHandler: wrapper already has an onclick"),e.onclick=h=>{h.stopPropagation()}),i?.shouldFocusOnTab&&(e.addEventListener("focusin",m),e.addEventListener("focusout",l)),e.addEventListener("keyup",h=>{(h.code==="Escape"||h.key==="Escape")&&(t.focus(),p(u))}),i?.shouldFocusOnHover&&(e.addEventListener("mouseenter",()=>_(c)),e.addEventListener("mouseleave",()=>p(c))),!i?.preventOnClickHandling){if(t.onclick)throw new Error("popupFocusHandler: button already has onclick");t.onclick=h=>{const E=t.getAttribute("aria-expanded")==="true";(!i?.isPerformPopup||i.isPerformPopup())&&(h.stopPropagation(),h.preventDefault(),E&&t.getAttribute("aria-expanded")==="true"?i?.doNotClosePopupOnClick||p(u):(eo()&&et(),_(u))),i?.onClick&&i.onClick(h)}}function m(){_(d)}function l(){p(d)}}const tt=`<span class="utds-new-tab-link-a11y">
  <span class="visually-hidden">, opens in a new tab</span>
  <span class="utds-icon-after-external-link" aria-hidden="true"></span>
</span>
`,to=`<span class="utds-icon-before-chevron-right vertical-menu__chevron" aria-hidden="true"></span>
`;function Rt(e,t){let n;return typeof t=="function"?n=t(e):n=t??"Overview",` ${n}`}const no=`<div class="popup__wrapper popup__wrapper--hidden">
  <div class="popup__content">
    <div class="popup__arrow"></div>
  </div>
</div>
`;function nt(e,t){const n=e.getAttribute("id");if(!n)throw new Error("renderPopup: labelledByElement does not have an `id` attribute");const o=w();e.setAttribute("aria-controls",o);const i=g(no);if(i.setAttribute("id",o),i.setAttribute("aria-labelledby",n),t?.removePopupArrow){const a=i.querySelector(f(s.POPUP_ARROW));if(!a)throw new Error("renderPopup(): popup arrow missing (I wanted to remove it!!)");a.remove()}return i}const oo=`<ul class="vertical-menu" />
`,io=`<li class="vertical-menu__item">
  <span class="vertical-menu__title">
    <span class="vertical-menu__plain-title"></span>
    <a href="#" class="vertical-menu__link-title">
      <span class="vertical-menu__link-text"></span>
    </a>
    <button class="vertical-menu__button-title">
      <span class="vertical-menu__link-text"></span>
    </button>
  </span>
  <span class="vertical-menu__divider" />
</li>
`;function Ut(e){const t=e.closest("li");if(!t)throw console.error("element",e),new Error("toggleChildMenuExpansion: parent not found for child");t.querySelectorAll(":scope > ul").forEach(n=>{const o=n.closest("li")?.querySelector(f(s.VERTICAL_MENU__BUTTON_TITLE));if(!o)throw new Error("toggleChildMenuExpansion: button not found");const i=o.querySelector(`:scope > ${f(s.VERTICAL_MENU__CHEVRON)}`);if(!i)throw new Error("toggleChildMenuExpansion: chevron not found");n.classList.toggle(s.VISUALLY_HIDDEN),n.classList.contains(s.VISUALLY_HIDDEN)?(o.setAttribute("aria-expanded","false"),n.setAttribute("inert","true"),i.classList.add(s.IS_CLOSED),i.classList.remove(s.IS_OPEN)):(o.setAttribute("aria-expanded","true"),n.removeAttribute("inert"),i.classList.remove(s.IS_CLOSED),i.classList.add(s.IS_OPEN))})}function ro(e){return t=>{t.preventDefault(),t.stopPropagation(),Ut(e)}}function Dt(){const e=g(to);return e.classList.add(s.IS_CLOSED),e}function xe(){setTimeout(()=>{document.activeElement?.blur()},0)}function so(e,t,n){const o=g(io),i=o.querySelector(f(s.VERTICAL_MENU__TITLE));if(!i)throw new Error("renderPopupMenuItem: menuItemTitleWrapper not found");const a=o.querySelector(f(s.VERTICAL_MENU__BUTTON_TITLE));if(!a)throw new Error("renderPopupMenuItem: menuButton not found");const r=o.querySelector(f(s.VERTICAL_MENU__LINK_TITLE));if(!r)throw new Error("renderPopupMenuItem: aHref not found");const c=o.querySelector(f(s.VERTICAL_MENU__PLAIN_TITLE));if(!c)throw new Error("renderPopupMenuItem: plainTitle not found");const d=o.querySelector(f(s.VERTICAL_MENU__DIVIDER));if(!d)throw new Error("renderPopupMenuItem: menuDivider not found");const u=o.querySelector(`button ${f(s.VERTICAL_MENU__LINK_TEXT)}`);if(!u)throw new Error("renderPopupMenuItem: titleSpanButton not found");const _=o.querySelector(`a ${f(s.VERTICAL_MENU__LINK_TEXT)}`);if(!_)throw new Error("renderPopupMenuItem: titleSpanLink not found");const p=t.actionMenu&&[...t.actionMenu];if(p&&(t.actionFunction||t.actionUrl||t.actionFunctionUrl)&&!t.isOverviewHidden&&p.unshift({actionFunction:t.actionFunction,actionFunctionUrl:t.actionFunctionUrl,actionUrl:t.actionUrl,className:t.className,icon:t.icon,title:`${t.title}${Rt(t,n.parentMenuLinkSuffix)}`}),p?.length||(r.onclick=xe,a.onclick=xe),p){let l;switch(n.childrenMenuType){case y.FLYOUT:{l=Dt(),a.appendChild(l),a.setAttribute("id",w());const h=ot({menuItems:p,title:t.title},a,{...n,removePopupArrow:!0});o.appendChild(h),ue(o,a,h,"menu",{popupPlacement:ie.RIGHT_START,preventOnClickHandling:!1,shouldFocusOnHover:!0}),r.remove(),c.remove();break}case y.INLINE:{const h=de(p,n),E=w();h.setAttribute("id",E),h.classList.add(s.VISUALLY_HIDDEN),h.setAttribute("inert","true"),o.appendChild(h),a.onclick=ro(a),a.setAttribute("aria-expanded","false"),a.setAttribute("aria-controls",E),l=Dt(),a.appendChild(l),r.remove(),c.remove(),o.addEventListener("click",T=>{for(let I=T.target?.closest("ul");I;I=I.parentElement?.closest("ul"))I.classList.remove(s.VISUALLY_HIDDEN),h.removeAttribute("inert"),a.setAttribute("aria-expanded","true"),T.target!==a&&(l?.classList?.remove(s.IS_CLOSED),l?.classList?.add(s.IS_OPEN))});break}case y.MEGA_MENU:{const h=de(p,n),E=w();h.setAttribute("id",E),o.appendChild(h),r.remove(),a.remove(),c.appendChild(document.createTextNode(t.title));break}default:throw new Error(`renderPopupMenuItem: childrenMenuType unknown '${n.childrenMenuType}'`)}d.remove()}else if(t.actionFunction)a.onclick=l=>{t.actionFunction?.(l),xe()},r.remove(),d.remove(),c.remove();else if(t.actionUrl)r.setAttribute("href",t.actionUrl.url),a.remove(),d.remove(),c.remove();else if(t.actionFunctionUrl)r.setAttribute("href",t.actionFunctionUrl.url),r.onclick=l=>{t.actionFunctionUrl?.skipHandleEvent||(l.stopPropagation(),l.preventDefault()),t.actionFunctionUrl?.actionFunction(l),xe()},a.remove(),d.remove(),c.remove();else if(t.isDivider)i.remove(),o.setAttribute("aria-hidden","true"),o.setAttribute("role","separator");else throw console.error(t),new Error("renderPopupMenuItem: popupMenuItem must have either actionMenu, actionFunction, actionUrl, or isDivider (popupMenuItem.title)");if(!t.isDivider){if(t.icon){const l=g(t.icon);l.setAttribute("role","presentation"),u.appendChild(l),_.appendChild(l)}if(u.appendChild(document.createTextNode(t.title)),_.appendChild(document.createTextNode(t.title)),t.actionUrl?.openInNewTab||t.actionFunctionUrl?.openInNewTab){r.setAttribute("target","_blank");const l=g(tt);u.appendChild(l),_.appendChild(l)}}const m=t.actionMenu?.length?s.MENU_ITEM__SELECTED_PARENT:s.MENU_ITEM__SELECTED;return(t.isSelected||t.actionMenu&&Ve(t.actionMenu,["actionMenu"],l=>!!l.isSelected))&&(a.classList.add(m),r.classList.add(m)),n.childrenMenuType!==y.MEGA_MENU&&(t.isSelected?(Ut(o),o.classList.add(m)):o.classList.remove(m)),t.className&&o.classList.add(t.className),e.appendChild(o),o}function de(e,t){const n=g(oo);return e?.forEach(o=>so(n,o,t)),n}function ot(e,t,n){const o=nt(t,{removePopupArrow:n.removePopupArrow}),i=o.querySelector(f(s.POPUP_CONTENT_WRAPPER));if(!i)throw new Error("renderPopupMenu: contentWrapper not found");const a=de(e.menuItems,n);return a.setAttribute("aria-label",e.title),i.appendChild(a),o}const ao=`<div class="utds-header-action-item-menu">
  <div class="vertical-menu__wrapper-title"></div>
</div>
`,co=`<div class="utds-header-mobile-menu__action-item">
  <button type="button" class="icon-button icon-button--borderless utds-header-action-item__icon-button" role="tab">
    <div class="utds-header-action-item__title visually-hidden"></div>
    <span aria-hidden="true" role="presentation">
  </button>
  <span class="menu-chiclet"></span>
</div>
`,lo=`<div class="utds-badge__wrapper">
  <span class="utds-badge__value"></span>
  <span class="utds-badge__label visually-hidden"></span>
</div>
`;function it(e){let t=null;if(e){t=g(lo),t.classList.add(s.BADGE_WRAPPER__ACTION_ITEM);const n=t.querySelector(f(s.BADGE__LABEL));if(!n)throw new Error("renderActionItemBadge: badgeLabel not found");if(n.appendChild(document.createTextNode(e.label)),e.value||e.value===0){const o=t.querySelector(f(s.BADGE__VALUE));if(!o)throw new Error("renderActionItemBadge: badgeValue not found");o.appendChild(document.createTextNode(`${e.value}`))}else t.classList.add(s.BADGE_WRAPPER__SMALL);e.className&&t.classList.add(e.className)}return t}function uo(e){const t=g(co);t.getAttribute("id")||t.setAttribute("id",w());const n=document.createTextNode(e.title),o=t instanceof HTMLCollection?t[0]:t;e.showTitle&&o.classList.add(s.ACTION_ITEM__ICON_BUTTON_TITLE),o.classList.add(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER),o.classList.remove(s.ACTION_ITEM);const i=o.querySelector(f(s.ACTION_ITEM__TITLE));if(!i)throw new Error("renderActionItem: titleDiv not found");i.appendChild(n),e.showTitle?i.classList.remove(s.VISUALLY_HIDDEN):i.classList.add(s.VISUALLY_HIDDEN);const a=t.querySelector(f(s.ACTION_ITEM__ICON_BUTTON));if(!a)throw new Error("renderActionItem: iconButton not found");e.className&&a.classList.add(e.className);const r=it(e.badge);r&&a.appendChild(r);const c=g(e.icon);c.setAttribute("role","presentation"),a.appendChild(c);let d=null;if(e.actionFunction)a.onclick=e.actionFunction;else if(e.actionDom){const u=w();a.setAttribute("id",u),d=g(typeof e.actionDom=="function"?e.actionDom():e.actionDom)}else if(e.actionPopupMenu){const u=w();a.setAttribute("id",u),d=g(ao);const _=d.querySelector(f(s.VERTICAL_MENU_WRAPPER__WRAPPER_TITLE));if(!_)throw new Error("renderMobileActionItem: actionItemContentTitle not found");_.appendChild(document.createTextNode(e.actionPopupMenu.title));const p=de(e.actionPopupMenu.menuItems,{childrenMenuType:y.INLINE,parentMenuLinkSuffix:e.actionPopupMenu.parentMenuLinkSuffix});d.appendChild(p)}else throw console.error(e),new Error("Action Item: no defined action; must have either actionFunction, actionDom, or actionPopupMenu");return{actionItemElement:t,actionItemContent:d}}function fo(){const e=document.getElementById(s.MOBILE_MENU_ACTON_BAR__HOME_ID);if(!e)throw new Error("renderMobileActionItems: homeActionItem not found");const t=e.closest(f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER));if(!t)throw new Error("renderMobileActionItems: homeActionItemWrapper not found");const i=(!!M().utahId?document.getElementById(s.MOBILE_MENU_ACTON_BAR__PROFILE_ID):null)?.closest?.(f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER));[...M().actionItems||[]].reverse()?.map(r=>({actionItem:r,...uo(r)}))?.forEach(({actionItem:r,actionItemContent:c,actionItemElement:d})=>{let u;switch(r.mobileMenuLocation){case"left":u=t;break;case"none":u=null;break;default:u=i||t;break}if(u&&(u.after(d),c)){const _=ke(c);let p=null;r.actionDom?p="dialog":r.actionPopupMenu&&(p="menu"),Fe(d,_,d,{ariaHasPopupType:p,shouldOnClickCloseMenu:!1})}}),M().mainMenu||(e.remove(),t.remove())}const po=`<div class="utds-footer utah-design-system">
  <div class="utds-footer__horizontal-divider">
    <hr />
  </div>
  <div class="utds-footer__utah-logo-wrapper">
    <div class="utah-logo-svg" id="utah-logo-svg__footer">
      <svg viewBox="0 0 107 30.51" role="presentation">
        <g>
          <path
            d="m12.44,30.51c-4.21,0-7.33-1.22-9.38-3.66C1.02,24.4,0,20.61,0,15.48V0h7.93v16.4c0,2.67.36,4.55,1.08,5.65.77,1.12,2.08,1.74,3.43,1.64,1.36.1,2.68-.52,3.48-1.63.75-1.09,1.13-2.97,1.13-5.65V0h7.65v15.48c0,5.13-1,8.92-3,11.36-2,2.44-5.09,3.66-9.26,3.66Zm24.42-.56V6.64h-7.93V0h23.78v6.64h-7.93v23.31h-7.92Zm26.17-14.56l-.51,2.07h5.53l-.51-2.07c-.37-1.44-.74-3.01-1.11-4.7-.37-1.69-.74-3.29-1.11-4.79h-.18c-.34,1.53-.68,3.14-1.04,4.82-.35,1.68-.71,3.24-1.08,4.68Zm-11.52,14.56L60.64,0h9.58l9.12,29.95h-8.39l-1.48-6.36h-8.38l-1.47,6.36h-8.11Zm30.69,0V0h7.93v11.15h8.94V0h7.93v29.95h-7.93v-11.89h-8.94v11.89h-7.93Z" />
        </g>
      </svg>
    </div>
    <div class="utds-footer__vertical-divider" role="separator" aria-orientation="vertical"></div>
    <div class="utds-footer__official-site-wrapper">
      <div class="utds-footer__official-site">An official website of the <span class="whitespace-no-wrap">state of Utah</span></div>
      <div class="utds-footer__copyright">&copy;<span class="utds-footer__copyright-year">2025</span> State of Utah</div>
    </div>
  </div>
  <div class="utds-footer__links">
    <ul>
      <li>
        <a href="https://www.utah.gov/index.html" target="__blank" rel="noreferrer">Utah.gov Home</a>
      </li>
      <li>
        <a href="https://www.utah.gov/support/disclaimer.html" target="__blank" rel="noreferrer" id="utds-footer-terms-link">Terms of Use</a>
      </li>
      <li>
        <a href="https://www.utah.gov/support/privacypolicy.html" target="__blank" rel="noreferrer" id="utds-footer-privacy-link">Privacy
          Policy</a>
      </li>
      <li>
        <a href="https://www.utah.gov/support/accessibility.html" target="__blank" rel="noreferrer">Accessibility</a>
      </li>
      <li>
        <a href="https://www.utah.gov/support/translate.html" target="__blank" rel="noreferrer">Translate</a>
      </li>
    </ul>
  </div>
</div>
`;function _o(e,t){const n=b(e.querySelector(f(s.FOOTER_COPYRIGHT_YEAR)),"renderFooterCopyrightYear: copyrightYearSpan not found");n.innerHTML=t??""}const G={copyrightYear:void 0,domLocationTarget:{cssSelector:void 0,element:void 0,elementFunction:void 0},showHorizontalRule:!1};function ho(){const e=M(),t=document.querySelector(f(s.FOOTER));let n=t;if(e.footer===null)t?.remove();else if(G.domLocationTarget.cssSelector!==e?.footer?.domLocationTarget?.cssSelector||G.domLocationTarget.element!==e?.footer?.domLocationTarget?.element||G.domLocationTarget.elementFunction!==e?.footer?.domLocationTarget?.elementFunction||G.showHorizontalRule!==e?.footer?.showHorizontalRule||G.copyrightYear!==e?.footer?.copyrightYear||!t){t&&t.remove(),n=g(po);let i=document.body;if(e?.footer?.domLocationTarget){const c=[e?.footer?.domLocationTarget.cssSelector,e?.footer?.domLocationTarget.element,e?.footer?.domLocationTarget.elementFunction].filter(d=>d);if(D(c.length<1,"renderFooter: footer.domLocationTarget must either have a value for one of its properties or not be specified at all"),D(c.length>1,"renderFooter: footer.domLocationTarget must only have one target specified"),e?.footer?.domLocationTarget.cssSelector)i=document.querySelector(e?.footer?.domLocationTarget.cssSelector),D(!i,`renderFooter: element not found for domLocationTarget.cssSelector ${e?.footer?.domLocationTarget.cssSelector}`);else if(e?.footer?.domLocationTarget.element)i=e?.footer?.domLocationTarget.element;else if(e?.footer?.domLocationTarget.elementFunction)i=e?.footer?.domLocationTarget.elementFunction(),D(!i,"renderFooter: element not returned from domLocationTarget.elementFunction");else throw new Error("renderFooter: domLocationTarget must have at least one field set")}if(i?.appendChild(n),!e?.footer?.showHorizontalRule){const c=document.querySelector(f(s.FOOTER_HORIZONTAL_DIVIDER));D(!c,"renderFooter: cannot remove horizontal rule; not found"),c?.remove()}if(e?.footer?.linkPrivacyPolicy){const c=document.getElementById(s.FOOTER_LINK_PRIVACY_ID);D(!c,"renderFooter: cannot find privacy policy link"),c?.setAttribute("href",e.footer.linkPrivacyPolicy)}if(e?.footer?.linkTextPrivacyPolicy){const c=document.getElementById(s.FOOTER_LINK_PRIVACY_ID);D(!c,"renderFooter: cannot find privacy policy link"),c&&(c.innerText=e.footer.linkTextPrivacyPolicy)}if(e?.footer?.linkTermsOfUse){const c=document.getElementById(s.FOOTER_LINK_TERMS_ID);D(!c,"renderFooter: cannot find terms of use link"),c?.setAttribute("href",e.footer.linkTermsOfUse)}b(document.querySelector(f(s.FOOTER_LINKS)),"renderFooter: footer links not found").querySelectorAll("a").forEach(c=>{c.appendChild(g(tt))}),_o(n,e?.footer?.copyrightYear),G.copyrightYear=e?.footer?.copyrightYear,G.domLocationTarget.cssSelector=e?.footer?.domLocationTarget?.cssSelector,G.domLocationTarget.element=e?.footer?.domLocationTarget?.element,G.domLocationTarget.elementFunction=e?.footer?.domLocationTarget?.elementFunction,G.showHorizontalRule=e?.footer?.showHorizontalRule}return n}const mo=`<div class="utds-action-items-wrapper"></div>
`,Eo=`<div class="tooltip__wrapper tooltip__wrapper--hidden" aria-hidden="true">
  <div class="tooltip__content">
    <div class="tooltip__arrow"></div>
  </div>
</div>
`;let be=NaN;function Te(e,t){const n=g(Eo),o=n.querySelector(f(s.TOOLTIP__CONTENT)),i=n.querySelector(f(s.TOOLTIP__ARROW));let a;if(!o)throw new Error("hookupTooltip: tooltipContent not found");o.appendChild(t),e.appendChild(n);const r=[Ot(5),St(),yt()];i&&r.push(Nt({element:i}));const c=()=>Pt(e,n,{placement:ie.BOTTOM,middleware:r}).then(({x:p,y:m,middlewareData:l})=>{n.setAttribute("data-popup-placement",ie.BOTTOM),Object.assign(n.style,{left:`${p}px`,top:`${m}px`}),i&&Object.assign(i?.style,{left:`${l.arrow?.x}px`,top:`${l?.arrow?.y}px`})});if(e.onmouseenter||e.onmouseleave)throw new Error("hookupTooltip: element already has an onmouseenter and/or onmouseleave event");let d=NaN;const u=()=>{clearTimeout(d),n.classList.add(s.TOOLTIP__WRAPPER__HIDDEN),n.classList.remove(s.TOOLTIP__WRAPPER__VISIBLE),typeof a=="function"&&a(),be=window.setTimeout(()=>{be=NaN},500)},_=p=>{(p.code==="Escape"||p.key==="Escape")&&(u(),document.removeEventListener("keyup",_))};e.onmouseleave=()=>{u(),document.removeEventListener("keyup",_)},e.onmouseenter=()=>{clearTimeout(d),d=window.setTimeout(()=>{clearTimeout(be),be=-1;const p=e.querySelector(f(s.POPUP_WRAPPER));(!p||p.classList.contains(s.POPUP__HIDDEN))&&(n.classList.remove(s.TOOLTIP__WRAPPER__HIDDEN),n.classList.add(s.TOOLTIP__WRAPPER__VISIBLE),a=jn(e,n,c),document.addEventListener("keyup",_))},be?0:500)}}const Io=`<div class="utds-header-action-item">
  <button type="button" class="icon-button utds-header-action-item__icon-button">
    <div class="utds-header-action-item__title visually-hidden"></div>
  </button>
</div>
`;function go(e){const t=g(Io),n=document.createTextNode(e.title),o=t instanceof HTMLCollection?t[0]:t;e.showTitle&&o.classList.add(s.ACTION_ITEM__ICON_BUTTON_TITLE);const i=o.querySelector(f(s.ACTION_ITEM__TITLE));if(!i)throw new Error("renderActionItem: titleDiv not found");i.appendChild(n),e.showTitle?i.classList.remove(s.VISUALLY_HIDDEN):i.classList.add(s.VISUALLY_HIDDEN);const a=t.querySelector(f(s.ACTION_ITEM__ICON_BUTTON));if(!a)throw new Error("renderActionItem: iconButton not found");e.className&&a.classList.add(e.className);const r=it(e.badge);r&&a.appendChild(r);const c=g(e.icon);if(c.setAttribute("role","presentation"),a.appendChild(c),!(a instanceof HTMLElement))throw new Error("renderActionItem: iconButton is not an HTMLElement");if(e.actionFunction)a.onclick=e.actionFunction;else if(e.actionDom){const d=w();a.setAttribute("id",d);const u=nt(a),_=u.querySelector(f(s.POPUP_CONTENT_WRAPPER));if(!_)throw new Error("renderPopupMenu: contentWrapper not found");_.appendChild(g(typeof e.actionDom=="function"?e.actionDom():e.actionDom)),t.appendChild(u),ue(o,a,u,"dialog",void 0)}else if(e.actionPopupMenu){const d=w();a.setAttribute("id",d);const u=ot(e.actionPopupMenu,a,{childrenMenuType:y.INLINE,parentMenuLinkSuffix:e.actionPopupMenu.parentMenuLinkSuffix});t.appendChild(u),ue(o,a,u,"menu",void 0)}else throw console.error(e),new Error("Action Item: no defined action; must have either actionFunction, actionDom, or actionPopupMenu");return Te(t,document.createTextNode(e.title)),t}function bo(){const{actionItems:e}=M();let t=null;return e?.length&&(t=g(mo),M().actionItems?.map(n=>go(n))?.forEach(n=>t?.appendChild(n))),t}const He={PROFILE:"https://id.utah.gov",SIGN_IN:`https://id.utah.gov/login?goto=${window.location}`,SIGN_OUT:`https://id.utah.gov/logout?goto=${window.location}`,USER_INFO:"https://id.utah.gov/api/userInfo"},Ae={AUTOMATIC:"Automatic",NONE:"None",PROVIDED:"Provided"};let xt=Ae.NONE;function To(e){let t;if(e===!0)t=Ae.AUTOMATIC;else if(e===!1)t=Ae.NONE;else if(e===void 0||e.currentUser===void 0)t=Ae.AUTOMATIC;else if(e.currentUser===null||e.currentUser)t=Ae.PROVIDED;else throw new Error("determineFetchStyle: Unknown utah id fetch style");return t}const N={isDefinitive:null,lastError:null,userInfo:null};function Ht(e){if(e.isDefinitive){Gt(e);const t=M()?.utahId;typeof t=="object"&&t.onAuthChanged?.(e)}}let Bt=!0;const Ao=500;let kt=NaN;async function Wt(){let e=Promise.resolve(N);const t=M(),n=To(t.utahId);if(N.isDefinitive===!1)e=Promise.resolve(N);else if(Bt)clearTimeout(kt),e=new Promise(o=>{kt=window.setTimeout(()=>{Bt=!1,Wt().then(i=>o(i)).catch(i=>console.error(i))},Ao)});else if(t.utahId===!1)e=Promise.resolve({isDefinitive:!0,lastError:"Utah ID is off",userInfo:null});else if(t.utahId===!0||t.utahId?.currentUser===void 0)(n!==xt||N.isDefinitive===null)&&(N.isDefinitive=!1,e=fetch(He.USER_INFO,{credentials:"include"}).then(o=>o.json()).then(o=>{if(o.status===200)N.lastError=null,N.userInfo=o.data;else throw new Error(o.err);return N}).catch(o=>(N.lastError=o,N.userInfo=null,N)).finally(()=>(N.isDefinitive=!0,Ht(N),N)));else{const o={isDefinitive:!0,lastError:null,userInfo:t.utahId?.currentUser};e=Promise.resolve(o),Ht(o)}return xt=n,e}function vo(){return N}function Ft(e){e.preventDefault(),e.stopPropagation(),window.location.href=He.SIGN_IN}function Mo(){let e;const t=M();return t.utahId===!1?e=null:t.utahId===!0?e=Ft:e=t.utahId?.onSignIn??Ft,e}function Lo(){const e=vo(),t=M(),n=t.utahId!==!1&&t.utahId!==!0&&!!t.utahId?.currentUser,o=typeof t.utahId=="object"?t.utahId.currentUser??null:e.userInfo;return n?o:e.userInfo}function Vt(e){const t=Lo();(!t||!t.authenticated)&&Mo()?.(e)}const wo=`<div class="vertical-menu__wrapper">
  <div class="vertical-menu__wrapper-title"></div>
</div>
`;function qt(e,t){const n=g(wo),o=n.querySelector(f(s.VERTICAL_MENU_WRAPPER__WRAPPER_TITLE));if(!o)throw new Error("renderMenuWithTitle: menuTitleDiv not found");return o.appendChild(document.createTextNode(t)),n.appendChild(e),n}const Oo=`<button class="utds-utah-id__button button--solid" type="button">UtahID Sign In</button>
`,$t=`<div class="utds-utah-id-wrapper"></div>
`;let z=null;function Gt(e){z=e,document.querySelectorAll(f(s.UTAH_ID__BUTTON)).forEach(n=>{if(n){if(n.innerHTML="",z?.userInfo?.authenticated){const a=document.createElement("span");a.appendChild(document.createTextNode("UtahID Account:")),a.classList.add(s.VISUALLY_HIDDEN),n.appendChild(a),n.appendChild(document.createTextNode(`Hello, ${z.userInfo.first||""}`))}else n.appendChild(document.createTextNode("UtahID Sign In"));const o=n.getAttribute("aria-controls");if(!o)throw new Error(`authChangedEventHandler: popup id for button not found - ${o}`);const i=document.getElementById(o);i&&rt(n,i)}})}function rt(e,t){e&&t&&(!!z?.isDefinitive&&!!z?.userInfo?.authenticated?(e.setAttribute("aria-haspopup","menu"),e.setAttribute("aria-expanded","false"),t.removeAttribute("aria-hidden")):(e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),t.setAttribute("aria-hidden","true")))}function zt(){const e=g(Oo);return e.setAttribute("id",w()),z&&Gt(z),e}function Yt(e){const t=M(),n=t.utahId!==!1&&t.utahId!==!0&&t.utahId?.onProfile,o=t.utahId!==!1&&t.utahId!==!0&&t.utahId?.onSignOut,i=[...t.utahId!==!0&&t.utahId!==!1&&t.utahId?.menuItems||[]];i.length&&i.push({isDivider:!0,title:"--divider--"});const a=[...i,{actionUrl:n?void 0:{url:He.PROFILE,openInNewTab:!0},actionFunction:n||void 0,title:"UtahID Profile"},{actionUrl:o?void 0:{url:He.SIGN_OUT},actionFunction:o||void 0,title:"Sign Out"}],r=de(a,{childrenMenuType:y.INLINE}),c=e?qt(r,"Utah ID Menu"):r;return c.setAttribute("aria-label","Utah Id Menu"),c.setAttribute("id",w()),c}function yo(){const e=g($t),t=zt();t.setAttribute("id",w()),e.appendChild(t);const n=Yt(!1),o=nt(t),i=o.querySelector(f(s.POPUP_CONTENT_WRAPPER));if(!i)throw new Error("renderUtahIdForDesktop: contentWrapper not found");return i.appendChild(n),e.appendChild(o),rt(t,o),ue(e,t,o,"menu",{isPerformPopup:()=>!!z?.isDefinitive&&!!z?.userInfo?.authenticated,onClick:a=>Vt(a)}),e}function So(){const e=g($t),t=zt(),n=t.getAttribute("id");if(!n)throw new Error("renderUtahIdForMobile: utahIdButton has no id");e.appendChild(t);const o=Yt(!0),i=o.getAttribute("id");if(!i)throw new Error("renderUtahIdForMobile: utahIdPopupMenu has no id");return e.appendChild(o),t.setAttribute("aria-controls",i),o.setAttribute("aria-labelledby",n),rt(t,o),{button:t,menu:o}}const No=`<div class="utds-citizen-experience-wrapper"></div>
`;function Po(){const e=g(No),t=bo();return t&&e.appendChild(t),M().utahId!==!1&&e.appendChild(yo()),e}const Co=`<div class="utds-citizen-experience-wrapper--mobile"></div>
`,Ro=`<div class="utds-title-wrapper">
  <div class="utds-title-wrapper__logo"></div>
  <div class="utds-title-wrapper__title"></div>
</div>
`,Uo=`<a class="utds-title-wrapper">
  <div class="utds-title-wrapper__logo"></div>
  <div class="utds-title-wrapper__title"></div>
</a>
`;function Do(){const e=M(),t=e.titleUrl||e.titleURL,n=g(t?Uo:Ro);if(!n)throw new Error("LogoTitle: titleWrapper is null");if(t&&n.setAttribute("href",t),e.titleFunction){if(n.onclick)throw new Error("LogoTitle: logoTitleWrapper already has an onclick");n.onclick=e.titleFunction}const o=n.querySelector(f(s.TITLE__LOGO));if(!o)throw new Error("LogoTitle: logoWrapper is null");const i=e.logo,a=e.showTitle,r=e.title;if(i){let u;if(i.htmlString)u=g(F(i.htmlString));else if(i.element)u=F(i.element);else if(i.imageUrl)u=g(`<img src=${F(i.imageUrl)}  id="design-system-logo" />`);else throw new Error("LogoTitle: logo set but has no settings");!a&&i?u.setAttribute("alt",`${r} logo`):u.setAttribute("role","presentation"),o.appendChild(u)}else n.removeChild(o);const c=document.createTextNode(r),d=n.querySelector(f(s.TITLE__TITLE));return d?.appendChild(c),!a&&i&&d?.remove(),n}const xo=`<div class="utah-logo-wrapper">
  <button class="utah-logo-svg" id="utah-logo-svg__header" aria-haspopup="dialog">
    <span class="visually-hidden" id="utah-logo-description">An official website of the state of Utah. Click to learn
      more.</span>
    <svg viewBox="0 0 137.363 56.6959" role="presentation">
      <g>
        <g>
          <path
            d="M15.972,39.161c-5.4,0-9.4127-1.5667-12.038-4.7C1.3087,31.3277-.0027,26.466,0,19.876V0H10.175V21.06c0,3.4313,.4633,5.847,1.39,7.247,.9909,1.434,2.669,2.2337,4.407,2.1,1.7525,.124,3.4436-.6712,4.466-2.1,.966-1.4,1.449-3.8157,1.449-7.247V0h9.82V19.876c0,6.586-1.2817,11.4467-3.845,14.582-2.5633,3.1353-6.5267,4.703-11.89,4.703Zm31.353-.711V8.518h-10.175V0h30.525V8.518h-10.175v29.932h-10.175Zm33.6-18.693l-.651,2.662h7.1l-.651-2.662c-.4733-1.8533-.9467-3.8647-1.42-6.034-.4733-2.1693-.945-4.2197-1.415-6.151h-.237c-.434,1.972-.8777,4.0327-1.331,6.182s-.918,4.1507-1.394,6.004l-.001-.001Zm-14.788,18.693L77.85,0h12.3l11.717,38.45h-10.767l-1.893-8.162h-10.766l-1.893,8.162h-10.411Zm39.4,0V0h10.175V14.316h11.476V0h10.175V38.45h-10.175v-15.261h-11.479v15.261h-10.172Z" />
        </g>
        <text transform="translate(.0419 52.5939)" aria-hidden="true">
          <tspan x="0" y="0">An official state website</tspan>
        </text>
      </g>
    </svg>
  </button>
</div>
`,Ho=`<div class="utah-logo-wrapper">
  <button class="utah-logo-svg" id="utah-logo-svg__header" aria-haspopup="dialog">
    <span class="visually-hidden" id="utah-logo-description">An official website of the state of Utah. Click to learn
      more.</span>
    <svg viewBox="0 0 105.9496 47.6226" role="presentation">
      <g>
        <g>
          <path
            d="M12.2714,30.0877c-4.1489,0-7.2318-1.2037-9.2489-3.611C1.0055,24.0693-.002,20.334,0,15.2709V0H7.8175V16.1806c0,2.6363,.356,4.4923,1.0679,5.5679,.7613,1.1018,2.0506,1.7162,3.3859,1.6134,1.3465,.0953,2.6458-.5157,3.4313-1.6134,.7422-1.0756,1.1133-2.9316,1.1133-5.5679V0h7.5448V15.2709c0,5.0601-.9847,8.7946-2.9541,11.2035-1.9694,2.4089-5.0145,3.6133-9.1352,3.6133Zm24.0887-.5463V6.5444h-7.8175V0h23.4526V6.5444h-7.8175V29.5414h-7.8175Zm25.8151-14.362l-.5002,2.0452h5.455l-.5002-2.0452c-.3637-1.4239-.7273-2.9693-1.091-4.636-.3637-1.6667-.7261-3.242-1.0871-4.7259h-.1821c-.3334,1.5151-.6743,3.0983-1.0226,4.7497s-.7053,3.189-1.071,4.6129l-.0008-.0008Zm-11.3617,14.362L59.8127,0h9.4502l9.0023,29.5414h-8.2724l-1.4544-6.2709h-8.2716l-1.4544,6.2709h-7.9988Zm30.2713,0V0h7.8175V10.9991h8.8171V0h7.8175V29.5414h-7.8175v-11.7251h-8.8194v11.7251h-7.8152Z" />
        </g>
        <text transform="translate(.0419 43.5205)" aria-hidden="true">
          <tspan x="0" y="0">An official website</tspan>
        </text>
      </g>
    </svg>
  </button>
</div>
`,Bo=`<div class="utds-official-website-hover__wrapper">
  How do I know it's official?<br />
  Learn more.
</div>
`;function ko(){const e=M();let t;switch(e.size){case re.LARGE:t=xo;break;case re.SMALL:case re.MEDIUM:t=Ho;break;default:throw new Error(`Unknown settings size: '${M().size}'`)}const n=g(t);if(!n.querySelector(f(s.LOGO_SVG)))throw new Error("UtahLogo: logoButton not found");return n.setAttribute("id",w()),Te(n,g(Bo)),n}const Wo=`<div class="utds-logo-wrapper"></div>
`,Fo=`<header class="utah-design-system utds-header" aria-label="Utah.gov Header"></header>
`,Vo=`<span class="utds-logo-vert-line"></span>
`;function qo(){const e=g(Fo);e.classList.add(`utds-header--${M().size?.toLowerCase()||re.MEDIUM}`);const t=g(Wo);return e.appendChild(t),t.appendChild(ko()),t.appendChild(g(Vo)),t.appendChild(Do()),e.appendChild(Po()),e.appendChild(g(Co)),e}const $o=`<div class="utah-design-system visually-hidden" id="search-modal">
  <div class="search-modal__close-button-wrapper">
    <button type="button" class="search-modal__close-button button icon-button icon-button--borderless">
      <span class="utds-icon-before-x-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Close search modal</span>
    </button>
  </div>
  <div class="search-modal">
    <form class="search-modal__form hcenter" role="search" aria-label="Sitewide" autocomplete="off">
      <span class="utds-icon-before-search search-modal__icon-search search-input__icon-search vcenter" aria-hidden="true"></span>
      <label for="search-modal-input-id" class="search-modal__input-label visually-hidden">Enter your search
        terms</label>
      <input type="text" id="search-modal-input-id" placeholder="Search" class="search-modal__input">
      <div class="search-modal__button-wrapper vcenter visually-hidden">
        <button type="submit" class="search-modal__button button button--solid button--primary-color">
          Search Now
        </button>
      </div>
      <div aria-hidden tabindex="0" class="search-modal__hidden-last-focusable visually-hidden">
        end of search form
      </div>
    </form>
  </div>
  <div class="search-backdrop modal-backdrop backdrop-dark"></div>
</div>
`;function st(e){const t=b(e||document.getElementById(s.SEARCH__SEARCH_MODAL),`setupSearchModal: '#${s.SEARCH__SEARCH_MODAL}' not found`),n=b(t.querySelector(f(s.SEARCH__SEARCH_BACKDROP)),"setupSearchModal: backdrop not found"),o=b(t.querySelector(f(s.SEARCH__SEARCH_CLOSE_BUTTON)),"setupSearchModal: closeButton not found"),i=b(t.querySelector(f(s.SEARCH__SEARCH_BUTTON)),"setupSearchModal: searchButton not found"),a=b(t.querySelector(f(s.SEARCH__SEARCH_BUTTON_WRAPPER)),"setupSearchModal: searchButtonWrapper not found"),r=b(t.querySelector(f(s.SEARCH__SEARCH_INPUT)),"setupSearchModal: searchInput not found"),c=b(t.querySelector(".search-modal__hidden-last-focusable"),"setupSearchModal: hiddenLastFocusableButton not found");return{backdrop:n,closeButton:o,hiddenLastFocusableButton:c,searchButton:i,searchButtonWrapper:a,searchInput:r,searchModal:t}}function ve(){b(document.getElementById(s.SEARCH__SEARCH_MODAL),"closeSearchModal: search modal not found").classList.add(s.VISUALLY_HIDDEN);const{closeButton:t,hiddenLastFocusableButton:n}=st(),o=document.querySelector(f(s.MAIN_MENU__SEARCH));o&&document.activeElement?.closest(`#${s.SEARCH__SEARCH_MODAL}`)&&o.focus(),t.tabIndex=-1,n.tabIndex=-1}function at(){b(document.getElementById(s.SEARCH__SEARCH_MODAL),"showSearchModal: search modal not found").classList.remove(s.VISUALLY_HIDDEN);const{searchInput:t,closeButton:n,hiddenLastFocusableButton:o}=st();t.focus(),n.tabIndex=0,o.tabIndex=0}function Go(){const e=g($o),{backdrop:t,closeButton:n,hiddenLastFocusableButton:o,searchButton:i,searchButtonWrapper:a,searchInput:r}=st(e);i.onclick=c=>{c.preventDefault(),c.stopPropagation(),ve();const{onSearch:d}=M();d&&d?.(r.value)},n.onclick=c=>{c.preventDefault(),c.stopPropagation(),ve()},t.onclick=c=>{c.preventDefault(),c.stopPropagation(),ve()},document.body.appendChild(e),r.oninput=()=>{a.classList.remove(s.VISUALLY_HIDDEN)},i.onfocus=()=>{a.classList.remove(s.VISUALLY_HIDDEN)},e.onkeyup=c=>{(c.code==="Escape"||c.key==="Escape")&&(c.preventDefault(),c.stopPropagation(),ve())},n.addEventListener("focusout",c=>{c.preventDefault(),c.stopPropagation(),e.classList.contains(s.VISUALLY_HIDDEN)||(ge[Je.SHIFT]?i.focus():r.focus())}),o.addEventListener("focusin",c=>{c.preventDefault(),c.stopPropagation(),e.classList.contains(s.VISUALLY_HIDDEN)||n.focus()}),ve()}const zo=`<li class="menu-item">
  <span class="menu-item__title">
    <button class="menu-item__button-title" type="button">
      <span class="menu-item__link-title-span"></span>
      <span class="menu-item__menu-arrow utds-icon-before-chevron-down" aria-hidden="true"></span>
    </button>
    <a class="menu-item__link-title">
      <span class="menu-item__link-title-span"></span>
      <span class="menu-item__menu-arrow utds-icon-before-chevron-down" aria-hidden="true"></span>
    </a>
    <span class="menu-chiclet"></span>
  </span>
</li>
`,Yo=`<div class="utah-design-system main-menu__outer">
  <div class="main-menu__wrapper">
    <nav class="horizontal-menu main-menu__nav">
      <ul class="main-menu__menu-top"></ul>
    </nav>
    <div class="main-menu__search">
      <button type="button" class="button icon-button icon-button--borderless">
        <div>
          <span class="utds-icon-before-search" aria-hidden="true"></span>
          <span class="visually-hidden">search</span>
        </div>
      </button>
    </div>
    <div class="utds-header-mobile__vip-action-items--left">
    </div>
    <div class="utds-header-mobile__utah-id-wrapper">
    </div>
    <div class="utds-header-mobile__vip-action-items--right">
    </div>
    <button type="button" class="button icon-button icon-button--borderless main-menu__hamburger"
      id="utds-main-menu__hamburger" aria-controls="utds-header-mobile-menu">
      <div>
        <span class="utds-icon-before-hamburger" id="utds-main-menu__hamburger-icon" aria-hidden="true"></span>
      </div>
    </button>
  </div>
</div>
`;function Ko(){const e=M(),t=g(Yo);let n=t.querySelector(f(s.MAIN_MENU__NAV));if(!n)throw new Error("renderMainMenu(): mainMenu not created");if(e.mainMenu?n.setAttribute("aria-label",e.mainMenu.title||"Main Menu"):(n.remove(),n=null),e.mainMenu){const a=n?.querySelector(f(s.MAIN_MENU__MENU_TOP));if(!a)throw new Error("renderMainMenu(): mainMenuTop not found");e.mainMenu.menuItems.forEach(r=>{const c=g(zo);a.appendChild(c);const d=b(c.querySelector(f(s.MENU_ITEM__TITLE)),`renderMainMenu(): sub menu title not found for ${r.title}`),u=b(d.querySelector(f(s.MENU_ITEM__BUTTON_TITLE)),`renderMainMenu(): button title not found for ${r.title}`);u.setAttribute("id",`${s.MENU_ITEM__BUTTON_TITLE}__${r.title.replaceAll(" ","")}-${w()}`),r.className&&u.classList.add(r.className);const _=b(d.querySelector(f(s.MENU_ITEM__LINK_TITLE)),`renderMainMenu(): link title not found for ${r.title}`);_.setAttribute("id",`${s.MENU_ITEM__LINK_TITLE}__${r.title.replaceAll(" ","")}-${w()}`),r.className&&_.classList.add(r.className);let p;if(r.actionMenu||r.actionFunction)p=u,_.remove();else if(r.actionFunctionUrl||r.actionUrl)p=_,u.remove();else throw new Error(`renderMainMenu(): menuItem is missing an action: ${r.title}`);const m=b(p.querySelector(f(s.MENU_ITEM__LINK_TITLE_SPAN)),`renderMainMenu(): main menu item title span not found for: ${r.title}`);if(r.isSelected&&p.classList.add(s.MENU_ITEM__SELECTED),r.actionMenu){const l=e.mainMenu;m.innerHTML=r.title;const h=[...r.actionMenu];(r.actionFunction||r.actionUrl||r.actionFunctionUrl)&&!r.isOverviewHidden&&h.unshift({actionFunction:r.actionFunction,actionFunctionUrl:r.actionFunctionUrl,actionUrl:r.actionUrl,className:r.className,icon:r.icon,title:`${r.title}${Rt(r,l.parentMenuLinkSuffix)}`});const E={menuItems:h,title:r.title},T=ot(E,p,{childrenMenuType:r.childrenMenuType||y.FLYOUT,parentMenuLinkSuffix:l.parentMenuLinkSuffix});c.appendChild(T),ue(c,p,T,"menu",{shouldFocusOnHover:!0,doNotClosePopupOnClick:!0});let I;switch(r.childrenMenuType){case y.INLINE:I=s.MENU_ITEM__INLINE;break;case y.MEGA_MENU:I=s.MENU_ITEM__MEGA_MENU;break;case y.FLYOUT:default:I=s.MENU_ITEM__FLY_OUT;break}c.classList.add(I)}else b(p.querySelector(f(s.MENU_ITEM__ARROW)),`renderMainMenu(): menu arrow not found for ${r.title}`).remove();if(r.actionFunction?(m.innerHTML=r.title,r.actionMenu||(p.onclick=r.actionFunction)):r.actionFunctionUrl?(m.innerHTML=r.title,p.setAttribute("href",r.actionFunctionUrl.url),r.actionMenu||(p.onclick=l=>{r.actionFunctionUrl?.skipHandleEvent||(l.stopPropagation(),l.preventDefault()),r.actionFunctionUrl?.actionFunction(l)})):r.actionUrl&&(m.innerHTML=r.title,p.setAttribute("href",r.actionUrl.url)),!r.actionMenu&&(r.actionUrl?.openInNewTab||r.actionFunctionUrl?.openInNewTab)&&(p.setAttribute("target","_blank"),p.appendChild(g(tt))),r.icon){const l=g(r.icon);l.setAttribute("role","presentation"),p.insertBefore(l,m)}})}let o=null;if(e.utahId){const{button:a,menu:r}=So();o=r,b(t.querySelector(f(s.MOBILE__UTAH_ID)),"renderMainMenu: utahIdButtonWrapper not found").appendChild(a)}const i=b(t.querySelector(f(s.MAIN_MENU__SEARCH)),"renderMainMenu: searchIcon not found");if(e.onSearch){Go();const a=g(i.outerHTML);if(Te(i,document.createTextNode("Search")),i.onclick)throw new Error("searchIcon already has onclick");if(i.onclick=()=>at(),!e.mainMenu){const r=b(document.querySelector(f(s.CITIZEN_EXPERIENCE)),"renderMainMenu: citizen experience wrapper not found");if(Te(a,document.createTextNode("Search")),a.onclick=()=>at(),i.classList.add(s.DESKTOP__HIDDEN),e.utahId!==!1){const c=b(document.querySelector(f(s.UTAH_ID)),"renderMainMenu: utahId wrapper not found");r.insertBefore(a,c)}else r.appendChild(a)}if(!e.mainMenu&&!e.actionItems&&e.utahId===!1){const r=g(i.outerHTML);if(Te(r,document.createTextNode("Search")),r.onclick)throw new Error("searchIconMobile already has onclick");r.onclick=()=>at(),b(document.querySelector(f(s.CITIZEN_EXPERIENCE_MOBILE)),"renderMainMenu: citizen-experience--mobile not found").appendChild(r)}}return e.onSearch||((e.mainMenu||!e.mainMenu&&e.utahId)&&i.parentElement?.insertBefore(g('<div class="main-menu__search-placeholder">'),i),i.remove()),{mainMenuWrapper:t,utahIdPopup:o}}const Zo=`<div class="utah-design-system utds-official-website-popup__wrapper visually-hidden" tabindex="-1">
  <div class="utds-official-website-popup__heading">
    An official website of the state of Utah. Here's how you know:
  </div>
  <div class="utds-official-website-popup__content">
    <div class="utds-official-website-popup__col">
      <div class="utds-icon-before-verified big-icon" aria-hidden="true"></div>
      <div>
        <strong>Official Utah websites use utah.gov in the browser&#39;s address bar.</strong><br />
        A Utah.gov website belongs to an official government organization in the state of Utah.
        <div class="utds-official-website-popup__address-bar"></div>
      </div>
    </div>
    <div class="utds-official-website-popup__col">
      <div class="utds-icon-before-lock big-icon" aria-hidden="true"></div>
      <div>
        <strong>Be careful when sharing sensitive information.</strong><br />
        Share sensitive information only on secure official Utah.gov websites.
      </div>
    </div>
    <div>
      <svg class="utds-official-website-popup__official-image" viewBox="0 0 105.9496 47.6226" role="img">
        <g>
          <g>
            <path
              d="M12.2714,30.0877c-4.1489,0-7.2318-1.2037-9.2489-3.611C1.0055,24.0693-.002,20.334,0,15.2709V0H7.8175V16.1806c0,2.6363,.356,4.4923,1.0679,5.5679,.7613,1.1018,2.0506,1.7162,3.3859,1.6134,1.3465,.0953,2.6458-.5157,3.4313-1.6134,.7422-1.0756,1.1133-2.9316,1.1133-5.5679V0h7.5448V15.2709c0,5.0601-.9847,8.7946-2.9541,11.2035-1.9694,2.4089-5.0145,3.6133-9.1352,3.6133Zm24.0887-.5463V6.5444h-7.8175V0h23.4526V6.5444h-7.8175V29.5414h-7.8175Zm25.8151-14.362l-.5002,2.0452h5.455l-.5002-2.0452c-.3637-1.4239-.7273-2.9693-1.091-4.636-.3637-1.6667-.7261-3.242-1.0871-4.7259h-.1821c-.3334,1.5151-.6743,3.0983-1.0226,4.7497s-.7053,3.189-1.071,4.6129l-.0008-.0008Zm-11.3617,14.362L59.8127,0h9.4502l9.0023,29.5414h-8.2724l-1.4544-6.2709h-8.2716l-1.4544,6.2709h-7.9988Zm30.2713,0V0h7.8175V10.9991h8.8171V0h7.8175V29.5414h-7.8175v-11.7251h-8.8194v11.7251h-7.8152Z" />
          </g>
          <text transform="translate(.0419 43.5205)" aria-hidden="true">
            <tspan x="0" y="0">An official website</tspan>
          </text>
        </g>
      </svg>
      <div class="utds-official-website-popup__copyright">&copy; State of Utah</div>
    </div>
  </div>
  <button type="button" class="utds-official-website-popup__close-button button icon-button icon-button--borderless"
    tabIndex="-1">
    <span class="utds-icon-before-x-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Close official website popup</span>
  </button>
</div>
`;function Kt(){const e=b(document.querySelector(f(s.LOGO_OFFICIAL_WRAPPER)),"openOfficialWebsite: official wrapper not found"),t=b(document.querySelector(f(s.LOGO)),"openOfficialWebsite: logoWrapper not found"),n=b(t.querySelector(f(s.LOGO_SVG)),"openOfficialWebsite: logoButton not found"),o=b(e.querySelector(f(s.LOGO_OFFICIAL_CLOSE_BUTTON)),"openOfficialWebsite: official close button not found");e.classList.add(s.VISUALLY_HIDDEN),n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),o.setAttribute("tabIndex","-1"),e.setAttribute("tabIndex","-1"),document.querySelectorAll(f(s.TOOLTIP__WRAPPER))?.forEach(a=>{a.classList.add(s.TOOLTIP__WRAPPER__HIDDEN),a.classList.remove(s.TOOLTIP__WRAPPER__VISIBLE)})}function Xo(){const e=b(document.querySelector(f(s.LOGO_OFFICIAL_WRAPPER)),"openOfficialWebsite: official wrapper not found"),t=b(document.querySelector(f(s.LOGO)),"openOfficialWebsite: logoWrapper not found"),n=b(t.querySelector(f(s.LOGO_SVG)),"openOfficialWebsite: logoButton not found"),o=b(e.querySelector(f(s.LOGO_OFFICIAL_CLOSE_BUTTON)),"openOfficialWebsite: official close button not found");e.classList.remove(s.VISUALLY_HIDDEN),o.removeAttribute("tabIndex"),e.removeAttribute("tabIndex"),n.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false"),e.focus(),document.querySelectorAll(f(s.TOOLTIP__WRAPPER))?.forEach(a=>{a.classList.add(s.TOOLTIP__WRAPPER__HIDDEN),a.classList.remove(s.TOOLTIP__WRAPPER__VISIBLE)}),_e()}function jo(){const e=g(Zo),n=document.querySelector(f(s.LOGO))?.querySelector(f(s.LOGO_SVG));if(!n)throw new Error("renderOfficialWebsite: logoButton not found");if(n.onclick)throw new Error("renderOfficialWebsite: logoButton already has an onclick");const o=e.querySelector(f(s.LOGO_OFFICIAL_CLOSE_BUTTON));if(!o)throw new Error("renderOfficialWebsite: closeButton not found");return n.onclick=i=>{i.stopPropagation(),i.preventDefault(),e.classList.toggle(s.VISUALLY_HIDDEN),e.classList.contains(s.VISUALLY_HIDDEN)?Kt():Xo(),document.querySelectorAll(f(s.TOOLTIP__WRAPPER))?.forEach(r=>{r.classList.add(s.TOOLTIP__WRAPPER__HIDDEN),r.classList.remove(s.TOOLTIP__WRAPPER__VISIBLE)})},o.onclick=()=>{e.classList.toggle(s.VISUALLY_HIDDEN),n.focus(),n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true")},o.id||(o.id=w()),e.id||(e.id=w()),n.setAttribute("aria-controls",e.id),n.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),e.setAttribute("aria-labelledby",n.id),e}function Qo(e){const{hamburger:t}=pe("hookupHamburger"),n=(u=>b(t,`hookupHamburger: hamburger required but is null: ${u}`)),o=M();if(o.actionItems?.some(u=>!!u.badge)){const u=it({label:"Home Badge"});u&&n("home badge").appendChild(u)}_e();function a(){const u=b(document.querySelectorAll(`.${s.MOBILE_MENU__ACTION_BAR} .${s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER}`)[0],"hookupHamburger: no action items to select on mobile hamburger open"),p=u.querySelector("button")?.getAttribute("aria-controls");return{actionItem:u,actionItemWrapper:p?document.getElementById(p):null}}const r=b(document.querySelectorAll(`.${s.MOBILE_MENU__ACTION_BAR} .${s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER}`)[0],"hookupHamburger: no action items to select on mobile hamburger open"),c=r.querySelector?.("button"),d=(c||r).getAttribute("id");if(!d)throw new Error("mobileMenuInteractionHandler: actionItemId not found");if(e){const u=e.getAttribute("id");if(!u)throw new Error("mobileMenuInteractionHandler: mobileMainMenuContentItemId not found");(c||r).setAttribute("aria-controls",u),e.setAttribute("aria-labelledby",d)}t&&Fe(t,()=>a().actionItemWrapper,()=>a().actionItem,{additionalOnClick:()=>Kt(),ariaHasPopupType:"menu",shouldOnClickCloseMenu:!0}),t&&(D(!!t.onblur,"hookupHamburger: hamburger already has an onblur event"),t.onblur=()=>{const{mobileMenu:u}=pe("showMobileMenu");if(u.classList.contains(s.IS_OPEN)){const _=f(s.MOBILE_MENU__ACTION_BAR),p=f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER),m=f(s.ICON_BUTTON);document.querySelector(`${_} ${p}:first-child ${m}`)?.focus()}}),(o.mainMenu||o.actionItems)&&!o.onSearch&&o.utahId===!1&&(b(document.querySelector(f(s.CITIZEN_EXPERIENCE_MOBILE)),"hookupHamburger: citizen experience mobile not found").appendChild(n("adding to citizen experience")),b(document.querySelector(f(s.MAIN_MENU)),"hookupHamburger: main menu not found").classList.add(s.MOBILE__HIDDEN)),o.onSearch&&!o.mainMenu&&b(document.querySelector(f(s.MAIN_MENU)),"renderMainMenu: main menu not found").classList.add(s.DESKTOP__HIDDEN)}function Jo(){const e=document.getElementById(s.MOBILE_MENU_ACTON_BAR__PROFILE_ID);if(!e)throw new Error("removeUtahIdInMobileMenu: profileActionItem not found");const t=e.closest(f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER));if(!t)throw new Error("removeUtahIdInMobileMenu: profileActionItemWrapper not found");t.remove()}function ei(e,t){const n=document.querySelector(f(s.MOBILE__UTAH_ID));if(!n)throw new Error("hookupUtahIdInMobileMenu: utahIdWrapper not found");const o=n.querySelector(f(s.UTAH_ID__BUTTON));if(!o)throw new Error("hookupUtahIdInMobileMenu: utahIdButton not found");if(!e.querySelector(f(s.MOBILE_MENU__CONTENT)))throw new Error("hookupUtahIdInMobileMenu: mobileContentWrapper not found");const a=document.getElementById(s.MOBILE_MENU_ACTON_BAR__PROFILE_ID);if(!a)throw new Error("hookupUtahIdInMobileMenu: profileActionItem not found");const r=a.closest(f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER));if(!r)throw new Error("hookupHamburger: profileActionItemWrapper not found");const c=ke(t);Fe(o,c,r,{ariaHasPopupType:"menu",onClickHandler:d=>(Vt(d),!1),shouldOnClickCloseMenu:!0})}const ti=`<div class="utah-design-system utds-header-mobile-menu" id="utds-header-mobile-menu">
  <div class="utds-header-mobile-menu__backdrop" aria-hidden></div>
  <div class="utds-header-mobile-menu__wrapper">
    <div class="utds-header-mobile-menu__action-bar" role="tablist">

      <div class="utds-header-mobile-menu__action-item">
        <button type="button" class="icon-button icon-button--borderless utds-header-action-item__icon-button icon-home"
          id="utds-header-mobile-menu_action-bar__home" role="tab">
          <div class="utds-header-action-item__title visually-hidden">Main Menu</div>
          <span class="utds-icon-before-home-menu" aria-hidden="true" role="presentation">
          </span>
        </button>
        <span class="menu-chiclet"></span>
      </div>
      <div class="utds-header-mobile-menu__action-item">
        <button type="button"
          class="icon-button icon-button--borderless utds-header-action-item__icon-button icon-profile"
          id="utds-header-mobile-menu_action-bar__profile" role="tab">
          <div class="utds-header-action-item__title visually-hidden">Profile</div>
          <span class="utds-icon-before-account" aria-hidden="true" role="presentation">
          </span>
        </button>
        <span class="menu-chiclet"></span>
      </div>

    </div>
    <div class="utds-header-mobile-menu__content"> </div>
    <div aria-hidden tabindex="0" class="utds-header-mobile-menu__hidden-last-focusable visually-hidden">
      end of mobile content form
    </div>
  </div>
</div>
`;function ni(){const e=M();return de(e.mainMenu&&e.mainMenu?.menuItems||void 0,{childrenMenuType:y.INLINE,parentMenuLinkSuffix:typeof e.mainMenu=="object"?e.mainMenu.parentMenuLinkSuffix:void 0,removePopupArrow:!0})}const oi=`<div class="utah-design-system skip-link__wrapper">
  <div class="skip-link__tab">
    <a href="#" class="skip-link__link button button--solid button--primary-color" id="skip-link">Skip to main content</a>
  </div>
</div>
`;function ii(){const{skipLinkUrl:e}=M();let t;if(e){t=g(oi);const n=t.querySelector(f(s.SKIP_LINK_LINK));if(!n)throw new Error("Skip Link Link is null");n.setAttribute("href",e)}else t=null,console.warn("Utah Design System: It is best practice to provide a skip link url (skipLinkUrl). See: https://designsystem.utah.gov/library/components/navigationLinks/skipLink");return t}function ri(){const t=[...document.querySelectorAll(`
      ${f(s.MOBILE_MENU__ACTION_BAR)}
      ${f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER)}
      ${f(s.ACTION_ITEM__ICON_BUTTON)}
    `)];t.forEach(i=>{i.onkeydown=(a=>{(a.code==="Home"||a.code==="End"||a.code==="ArrowRight"||a.code==="ArrowLeft")&&a.preventDefault()}),i.onkeyup=(a=>{const r=t.indexOf(i);let c=NaN;if(a.code==="Home"?c=0:a.code==="End"?c=t.length-1:a.code==="ArrowRight"?c=(r+1)%t.length:a.code==="ArrowLeft"&&(c=(t.length+r-1)%t.length),!Number.isNaN(c)){a.preventDefault(),a.stopPropagation();const d=t[c],u=d?.closest(f(s.MOBILE_MENU_ACTION_BAR__ACTION_ITEM_WRAPPER));if(!u)throw new Error("hookupMobileActionItemKeyboarding: newWrapper not found... how in the blazes?!");const _=d?.getAttribute("aria-controls");if(_&&document.getElementById(_))d?.click();else{const l=document.querySelector(f(s.MOBILE_MENU__WRAPPER));if(!l)throw new Error("hookupMobileActionItemKeyboarding: mobileMenuWrapper not found");const h=l.querySelector(f(s.MOBILE_MENU__CONTENT));if(!h)throw new Error("hookupMobileActionItemKeyboarding: mobileContentWrapper not found");h.querySelectorAll(f(s.MOBILE_MENU__CONTENT_ITEM)).forEach(E=>E.classList.remove(s.IS_OPEN))}const m=document.querySelector(f(s.MOBILE_MENU__WRAPPER));if(!m)throw new Error("hookupMobileActionItemKeyboarding: mobileMenuWrapper not found");We(m,u)}})});const n=b(document.querySelector(f(s.MOBILE_MENU__LAST_FOCUSABLE)),"hookupMobileActionItemKeyboarding: hiddenLastFocusableButton not found"),{hamburger:o}=pe("hookupMobileActionItemKeyboarding");n.addEventListener("focusin",i=>{i.preventDefault(),i.stopPropagation(),o?.focus()})}function si(){const e=tn.replace(s.MEDIA_SIZE__TABLET_PORTRAIT__PLACEHOLDER,`${M().mediaSizes.tabletPortrait}px`).replace(s.MEDIA_SIZE__TABLET_LANDSCAPE__PLACEHOLDER,`${M().mediaSizes.tabletLandscape}px`).replace(s.MEDIA_SIZE__MOBILE__PLACEHOLDER,`${M().mediaSizes.mobile}px`);let t=document.getElementById(s.CSS_HEADER_MEDIA_TAG_ID);t||(t=document.createElement("style"),t.id=s.CSS_HEADER_MEDIA_TAG_ID),t.innerHTML=e,document.body.appendChild(t)}function ai(){const e=M();let t=document.body;if(e.domLocationTarget){const n=[e.domLocationTarget.cssSelector,e.domLocationTarget.element,e.domLocationTarget.elementFunction].filter(o=>o);if(n.length<1)throw new Error("loadHeader: domLocationTarget must either have a value for one of its properties or not be specified at all");if(n.length>1)throw new Error("loadHeader: domLocationTarget must only have one target specified");if(e.domLocationTarget.cssSelector)t=document.querySelector(e.domLocationTarget.cssSelector),D(!t,`loadHeader: element not found for domLocationTarget.cssSelector ${e.domLocationTarget.cssSelector}`);else if(e.domLocationTarget.element)t=e.domLocationTarget.element;else if(e.domLocationTarget.elementFunction)t=e.domLocationTarget.elementFunction(),D(!t,"loadHeader: element not returned from domLocationTarget.elementFunction");else throw new Error("loadHeader: domLocationTarget must have at least one field set")}return b(t,"loadHeader: domTarget is null (how?!)")}function Zt(){if(!document.querySelector(f([s.UTAH_DESIGN_SYSTEM,s.HEADER]))){const t=qo(),n=ai();n.insertBefore(t,n.firstChild);const o=jo();t.after(o);const i=ii(),a=document.body;i&&a&&a.insertBefore(i,a.firstChild);const r=g(ti);o.after(r),r.onkeyup=h=>{(h.code==="Escape"||h.key==="Escape")&&(h.preventDefault(),h.stopPropagation(),_e())};const{mainMenuWrapper:c,utahIdPopup:d}=Ko();c&&o.after(c);const u=document.querySelector(f(s.MOBILE_MENU__BACKDROP));if(!u)throw new Error("mobileMenuInteractionHandler: mobileMenuBackdrop not found");if(u.onclick)throw new Error("mobileMenuInteractionHandler: mobileMenuBackdrop already has onclick");u.onclick=()=>_e();const _=ni(),p=qt(_,"Main Menu");p.appendChild(_);const m=ke(p);Qo(m),d?(d.closest("div")?.removeAttribute("aria-labelledby"),ei(r,d)):Jo(),fo(),ri(),Jn(),si(),Wt().catch(h=>console.error(h));const l=M();(!l.mainMenu&&!l.actionItems&&l.utahId===!1&&!l.onSearch||!l.mainMenu&&!l.actionItems&&l.utahId===!1&&l.onSearch||!l.mainMenu&&l.actionItems&&l.utahId===!1&&!l.onSearch)&&(r.classList.add(s.MAIN_MENU__REMOVED),c.remove()),(!l.mainMenu&&!l.actionItems&&l.utahId&&!l.onSearch||!l.mainMenu&&l.actionItems&&l.utahId&&!l.onSearch||!l.mainMenu&&l.actionItems&&!l.utahId&&l.onSearch)&&c.classList.add(s.DESKTOP__HIDDEN)}ho()}function Xt(e){document.querySelector(f([s.UTAH_DESIGN_SYSTEM,s.SKIP_LINK_WRAPPER]))?.remove(),document.querySelector(f([s.UTAH_DESIGN_SYSTEM,s.HEADER]))?.remove(),document.querySelector(f([s.UTAH_DESIGN_SYSTEM,s.MAIN_MENU__OUTER]))?.remove(),document.querySelector(f([s.UTAH_DESIGN_SYSTEM,s.MOBILE_MENU]))?.remove(),document.querySelector(f([s.UTAH_DESIGN_SYSTEM,s.LOGO_OFFICIAL_WRAPPER]))?.remove(),document.getElementById(s.SEARCH__SEARCH_MODAL)?.remove(),Ct(),e&&setTimeout(()=>document.dispatchEvent(new Event(Be.HEADER_UNLOADED)),0)}function jt(){Xt(!1),Zt()}const ci=15e3;let Qt=0;const Jt=setInterval(()=>{Qt+=1,Qt>=ci||typeof window>"u"||window["@utahdts/utah-design-system-header"]?.isSetUtahHeaderSettingsCalled?clearInterval(Jt):document.dispatchEvent(new Event(Be.HEADER_LOADED))},2);window.addEventListener("unload",()=>{clearInterval(Jt)});function en(e){return Oe.setSettings(e),window["@utahdts/utah-design-system-header"]&&(window["@utahdts/utah-design-system-header"].isSetUtahHeaderSettingsCalled=!0),document?.body?jt():window.addEventListener("load",()=>jt()),Oe.getSettings()}function li(e){return en({...fe,...Oe.getSettings(),footer:e})}O.PopupPlacement=ie,O.childrenMenuTypes=y,O.defaultSettings=fe,O.events=Be,O.getUtahHeaderSettings=M,O.loadHeader=Zt,O.popupFocusHandler=ue,O.removeHeader=Xt,O.renderDOMSingle=g,O.setUtahFooterSettings=li,O.setUtahHeaderSettings=en,O.sizes=re,Object.defineProperty(O,Symbol.toStringTag,{value:"Module"})}));
